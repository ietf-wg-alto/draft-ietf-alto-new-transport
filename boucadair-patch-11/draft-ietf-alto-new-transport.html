<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>The ALTO Transport Information Publication Service</title>
<meta content="Roland Schott" name="author">
<meta content="Y. Richard Yang" name="author">
<meta content="Kai Gao" name="author">
<meta content="Lauren Delwiche" name="author">
<meta content="Lachlan Keller" name="author">
<meta content="
       
      The ALTO Protocol (RFC 7285) leverages HTTP/1.x and is designed for the simple,
      sequential request-reply use case, in which an ALTO client requests a
      sequence of information resources, and the server responds with the complete
      content of each resource one at a time.
       
       
      ALTO incremental updates using Server-Sent Events (SSE) (RFC 8895) defines a multiplexing protocol on top
      of HTTP/1.x, so that an ALTO server can incrementally push resource updates
      to clients whenever monitored network information resources change, allowing the
      clients to monitor multiple resources at the same time.
      However, HTTP/2 and later versions already support concurrent, non-blocking transport of
      multiple streams in the same HTTP connection.
       
       
      To take advantage of newer HTTP features, this document introduces the ALTO Transport
      Information Publication Service (TIPS).  TIPS uses an incremental RESTful design to
      give an ALTO client the new capability to explicitly, concurrently (non-blocking) request (pull)
      specific incremental updates using native HTTP/2 or HTTP/3, while still
      functioning for HTTP/1.x.  TIPS also provides for an ALTO server to concurrently push specific incremental updates using native HTTP/2 or HTTP/3
      server push.
       
    " name="description">
<meta content="xml2rfc 3.18.2" name="generator">
<meta content="RFC" name="keyword">
<meta content="Request for Comments" name="keyword">
<meta content="I-D" name="keyword">
<meta content="Internet-Draft" name="keyword">
<meta content="Application-Layer Traffic Optimization, HTTP/2, HTTP/3, SSE, Updates Graph" name="keyword">
<meta content="draft-ietf-alto-new-transport-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.18.2
    Python 3.11.6
    ConfigArgParse 1.5.3
    google-i18n-address 3.1.0
    intervaltree 3.1.0
    Jinja2 3.1.2
    lxml 4.9.3
    platformdirs 3.11.0
    pycountry 22.3.5
    PyYAML 6.0
    requests 2.31.0
    setuptools 67.7.2
    six 1.16.0
    wcwidth 0.2.8
-->
<link href="draft-ietf-alto-new-transport.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Cabin Condensed';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Cabin Condensed SemiBold'), local('CabinCondensed-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/cabincondensed-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
}
:is(ol, ul) :is(ol, ul) {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  line-height: 1;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
}
dl.olPercent {
  --indent: 5ch;
}
dl > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl.dlNewline > dt {
  float: none;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
dl.olPercent > dt {
  min-width: calc(var(--indent) - 2ch);
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:first-child, .break:first-child + *) {
  margin-top: 0;
}
:is(dl.compact, .dlCompact) > dd > :is(:last-child) {
  margin-bottom: 0;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0;
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    overflow-x: auto;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
}
a.pilcrow[href] { color: var(--pilcrow-weak); }
a.pilcrow[href]:hover { text-decoration: none; }
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
}
#identifiers dt {
  width: var(--identifier-width);
  min-width: var(--identifier-width);
  clear: left;
  float: left;
  text-align: right;
  margin-right: 1ch;
}
#identifiers dd {
  margin: 0;
  margin-left: calc(1em + var(--identifier-width)) !important;
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 2px 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 10ch;
  margin-right: 1.5ch;
}
.references dt:target::before {
  content: "⇒";
  width: 15px;
  margin: 0 10px 0 -25px;
}
.references dd {
  margin-left: 12ch !important;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul :is(p, li) {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
  .toplink {
    display: none;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Provide styling for table cell text alignment */
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">ALTO TIPS</td>
<td class="right">May 2023</td>
</tr></thead>
<tfoot><tr>
<td class="left">Schott, et al.</td>
<td class="center">Expires 16 November 2023</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">ALTO Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-alto-new-transport-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2023-05-15" class="published">15 May 2023</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2023-11-16">16 November 2023</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">R. Schott</div>
<div class="org">Deutsche Telekom</div>
</div>
<div class="author">
      <div class="author-name">Y. Yang</div>
<div class="org">Yale University</div>
</div>
<div class="author">
      <div class="author-name">K. Gao</div>
<div class="org">Sichuan University</div>
</div>
<div class="author">
      <div class="author-name">L. Delwiche</div>
<div class="org">Yale University</div>
</div>
<div class="author">
      <div class="author-name">L. Keller</div>
<div class="org">Yale University</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">The ALTO Transport Information Publication Service</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
      The ALTO Protocol (RFC 7285) leverages HTTP/1.x and is designed for the simple,
      sequential request-reply use case, in which an ALTO client requests a
      sequence of information resources, and the server responds with the complete
      content of each resource one at a time.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">
      ALTO incremental updates using Server-Sent Events (SSE) (RFC 8895) defines a multiplexing protocol on top
      of HTTP/1.x, so that an ALTO server can incrementally push resource updates
      to clients whenever monitored network information resources change, allowing the
      clients to monitor multiple resources at the same time.
      However, HTTP/2 and later versions already support concurrent, non-blocking transport of
      multiple streams in the same HTTP connection.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">
      To take advantage of newer HTTP features, this document introduces the ALTO Transport
      Information Publication Service (TIPS).  TIPS uses an incremental RESTful design to
      give an ALTO client the new capability to explicitly, concurrently (non-blocking) request (pull)
      specific incremental updates using native HTTP/2 or HTTP/3, while still
      functioning for HTTP/1.x.  TIPS also provides for an ALTO server to concurrently push specific incremental updates using native HTTP/2 or HTTP/3
      server push.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 16 November 2023.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2023 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Revised BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Revised BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="auto internal xref">1.1</a>.  <a href="#name-requirements-language" class="internal xref">Requirements Language</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="auto internal xref">1.2</a>.  <a href="#name-notations" class="internal xref">Notations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-tips-overview" class="internal xref">TIPS Overview</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-transport-requirements" class="internal xref">Transport Requirements</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="auto internal xref">2.2</a>.  <a href="#name-tips-terminology" class="internal xref">TIPS Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-tips-updates-graph" class="internal xref">TIPS Updates Graph</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="auto internal xref">3.1</a>.  <a href="#name-basic-data-model-of-updates" class="internal xref">Basic Data Model of Updates Graph</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="auto internal xref">3.2</a>.  <a href="#name-resource-location-schema" class="internal xref">Resource Location Schema</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="auto internal xref">3.3</a>.  <a href="#name-updates-graph-modification-" class="internal xref">Updates Graph Modification Invariants</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-tips-high-level-workflow" class="internal xref">TIPS High Level Workflow</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-workflow-overview" class="internal xref">Workflow Overview</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-tips-with-different-http-ve" class="internal xref">TIPS With Different HTTP Versions</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-tips-information-resource-d" class="internal xref">TIPS Information Resource Directory (IRD) Announcement</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-media-type" class="internal xref">Media Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-capabilities" class="internal xref">Capabilities</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-uses" class="internal xref">Uses</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="auto internal xref">5.4</a>.  <a href="#name-example" class="internal xref">Example</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-tips-open-close" class="internal xref">TIPS Open/Close</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-open-request" class="internal xref">Open Request</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-open-response" class="internal xref">Open Response</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-open-example" class="internal xref">Open Example</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-close-request" class="internal xref">Close Request</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-tips-data-transfers-client-" class="internal xref">TIPS Data Transfers - Client Pull</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-request" class="internal xref">Request</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-response" class="internal xref">Response</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="auto internal xref">7.3</a>.  <a href="#name-example-2" class="internal xref">Example</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="auto internal xref">7.4</a>.  <a href="#name-new-next-edge-recommendatio" class="internal xref">New Next Edge Recommendation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.1">
                    <p id="section-toc.1-1.7.2.4.2.1.1"><a href="#section-7.4.1" class="auto internal xref">7.4.1</a>.  <a href="#name-request-2" class="internal xref">Request</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4.2.2">
                    <p id="section-toc.1-1.7.2.4.2.2.1"><a href="#section-7.4.2" class="auto internal xref">7.4.2</a>.  <a href="#name-response-2" class="internal xref">Response</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-tips-data-transfer-server-p" class="internal xref">TIPS Data Transfer - Server Push</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="auto internal xref">8.1</a>.  <a href="#name-manage-server-push" class="internal xref">Manage Server Push</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.1">
                    <p id="section-toc.1-1.8.2.1.2.1.1"><a href="#section-8.1.1" class="auto internal xref">8.1.1</a>.  <a href="#name-start-server-push" class="internal xref">Start Server Push</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.2">
                    <p id="section-toc.1-1.8.2.1.2.2.1"><a href="#section-8.1.2" class="auto internal xref">8.1.2</a>.  <a href="#name-read-push-state" class="internal xref">Read Push State</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.1.2.3">
                    <p id="section-toc.1-1.8.2.1.2.3.1"><a href="#section-8.1.3" class="auto internal xref">8.1.3</a>.  <a href="#name-stop-push" class="internal xref">Stop Push</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="auto internal xref">8.2</a>.  <a href="#name-push-incremental-updates" class="internal xref">Push Incremental Updates</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.1">
                    <p id="section-toc.1-1.8.2.2.2.1.1"><a href="#section-8.2.1" class="auto internal xref">8.2.1</a>.  <a href="#name-scheduling-server-push-upda" class="internal xref">Scheduling Server Push Updates</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.2.2.2">
                    <p id="section-toc.1-1.8.2.2.2.2.1"><a href="#section-8.2.2" class="auto internal xref">8.2.2</a>.  <a href="#name-examples" class="internal xref">Examples</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8.2.3">
                <p id="section-toc.1-1.8.2.3.1"><a href="#section-8.3" class="auto internal xref">8.3</a>.  <a href="#name-server-push-stream-manageme" class="internal xref">Server Push Stream Management</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-operation-and-processing-co" class="internal xref">Operation and Processing Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-considerations-for-load-bal" class="internal xref">Considerations for Load Balancing</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-considerations-for-choosing" class="internal xref">Considerations for Choosing Updates</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="auto internal xref">9.3</a>.  <a href="#name-considerations-for-cross-re" class="internal xref">Considerations for Cross-Resource Dependency Scheduling</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.4">
                <p id="section-toc.1-1.9.2.4.1"><a href="#section-9.4" class="auto internal xref">9.4</a>.  <a href="#name-considerations-for-client-p" class="internal xref">Considerations for Client Processing Updates</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.5">
                <p id="section-toc.1-1.9.2.5.1"><a href="#section-9.5" class="auto internal xref">9.5</a>.  <a href="#name-considerations-for-updates-" class="internal xref">Considerations for Updates to Filtered Cost Maps</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.6">
                <p id="section-toc.1-1.9.2.6.1"><a href="#section-9.6" class="auto internal xref">9.6</a>.  <a href="#name-considerations-for-updates-t" class="internal xref">Considerations for Updates to Ordinal Mode Costs</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.7">
                <p id="section-toc.1-1.9.2.7.1"><a href="#section-9.7" class="auto internal xref">9.7</a>.  <a href="#name-considerations-for-managing" class="internal xref">Considerations for Managing Shared TIPS Views</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.8">
                <p id="section-toc.1-1.9.2.8.1"><a href="#section-9.8" class="auto internal xref">9.8</a>.  <a href="#name-considerations-for-offering" class="internal xref">Considerations for Offering Shortcut Incremental Updates</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="auto internal xref">10</a>. <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="auto internal xref">10.1</a>.  <a href="#name-tips-denial-of-service-atta" class="internal xref">TIPS: Denial-of-Service Attacks</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="auto internal xref">10.2</a>.  <a href="#name-alto-client-update-overload" class="internal xref">ALTO Client: Update Overloading or Instability</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10.2.3">
                <p id="section-toc.1-1.10.2.3.1"><a href="#section-10.3" class="auto internal xref">10.3</a>.  <a href="#name-spoofed-uri" class="internal xref">Spoofed URI</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="auto internal xref">11</a>. <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="auto internal xref">11.1</a>.  <a href="#name-application-alto-tipsjson-m" class="internal xref">application/alto-tips+json Media Type</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="auto internal xref">11.2</a>.  <a href="#name-application-alto-tipsparams" class="internal xref">application/alto-tipsparams+json Media Type</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="auto internal xref">12</a>. <a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="auto internal xref">13</a>. <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="auto internal xref">13.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="auto internal xref">13.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#appendix-A" class="auto internal xref">Appendix A</a>.  <a href="#name-high-level-service-model" class="internal xref">High-level Service Model</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#appendix-B" class="auto internal xref">Appendix B</a>.  <a href="#name-adherence-to-building-proto" class="internal xref">Adherence to "Building Protocols with HTTP"</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="intro">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Application-Layer Traffic Optimization (ALTO) provides means for
       network applications to obtain network status information.  So far,
       two transport protocols have been designed:<a href="#section-1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-1-2">
        <li id="section-1-2.1">The ALTO base protocol <span>[<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>, which is designed for the simple use case in
        which an ALTO client requests a network information resource, and the
        server sends the complete content of the requested information (if any)
        resource to the client.<a href="#section-1-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-1-2.2">ALTO incremental updates using Server-Sent Events (ALTO/SSE) <span>[<a href="#RFC8895" class="cite xref">RFC8895</a>]</span>,
        which is designed for an ALTO client to indicate to the server that it wants to
        receive updates for a set of resources, and the server can then
        concurrently, and incrementally push updates to that client whenever
        monitored resources change.<a href="#section-1-2.2" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-1-3">Both protocols are designed for HTTP/1.x <span>[<a href="#RFC9112" class="cite xref">RFC9112</a>]</span> and, ideally,
        they should be able to automatically take advantage of newer HTTP
        versions such as HTTP/2 <span>[<a href="#RFC9113" class="cite xref">RFC9113</a>]</span>
        and HTTP/3 <span>[<a href="#RFC9114" class="cite xref">RFC9114</a>]</span>.  However,
        there are issues with both protocols when higher HTTP versions are used.
        First, consider the ALTO base protocol, which is designed to transfer
        only complete information resources.  Hence, a client can run the
        base protocol on top of HTTP/2 or HTTP/3 to request multiple information
        resources concurrently, in concurrent streams, but each request must be
        for a complete information resource; there is no capability of
        transferring incremental updates.  Hence, there can be large overhead
        when the client already has an information resource and then there are
        small changes to the resource.  Next, consider ALTO/SSE.  Although ALTO/SSE
        can transfer incremental updates, it introduces a customized
        multiplexing protocol on top of HTTP, assuming a total-order message
        channel from the server to the client.  The multiplexing design does
        not provide naming (i.e., providing resource identifier) to
        individual incremental updates.  Hence, the design cannot use
        concurrent per-stream server push or non-blocking per-stream client
        pull, available in HTTP/2 and HTTP/3, because both cases require the
        resource identifier. Additionally, ALTO/SSE is a push-only protocol,
        which denies the client flexibility in choosing how and when it
        receives updates.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This document introduces a new ALTO service called the Transport
        Information Publication Service (TIPS).  TIPS uses an incremental RESTful design to
        provide an ALTO client with a new capability to explicitly, concurrently (non-blocking) request (pull)
        specific incremental updates using native HTTP/2 or HTTP/3, while still
        functioning for HTTP/1.x.  TIPS also provides an ALTO server to concurrently push specific incremental updates using native HTTP/2 or HTTP/3
        server push. Specifically, this document specifies the following:<a href="#section-1-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-5.1">Extensions to the ALTO Protocol to create, update, or remove an incrementally changing network information resource.<a href="#section-1-5.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-5.2">A new resource type that specifies the TIPS updates graph model for a resource.<a href="#section-1-5.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-5.3">URI patterns to fetch the snapshots or incremental updates.<a href="#section-1-5.3" class="pilcrow">¶</a>
</li>
      </ul>
<div id="requirements-language">
<section id="section-1.1">
        <h3 id="name-requirements-language">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-requirements-language" class="section-name selfRef">Requirements Language</a>
        </h3>
<p id="section-1.1-1">
            The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
            "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY",
            and "OPTIONAL" in this document are to be interpreted as described
            in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span><span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span>
            when, and only when, they appear in all capitals, as shown here.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="notations">
<section id="section-1.2">
        <h3 id="name-notations">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-notations" class="section-name selfRef">Notations</a>
        </h3>
<p id="section-1.2-1">This document uses the same syntax and notations as introduced in <span><a href="https://rfc-editor.org/rfc/rfc7285#section-8.2" class="relref">Section 8.2</a> of [<a href="#RFC7285" class="cite xref">RFC7285</a>]</span> to specify the extensions to existing ALTO resources and
            services.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="altoh2overview">
<section id="section-2">
      <h2 id="name-tips-overview">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-tips-overview" class="section-name selfRef">TIPS Overview</a>
      </h2>
<div id="requirements">
<section id="section-2.1">
        <h3 id="name-transport-requirements">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-transport-requirements" class="section-name selfRef">Transport Requirements</a>
        </h3>
<p id="section-2.1-1">Current ALTO protocol and its extensions support two transport mechanisms: First, a client can direct request an ALTO resource and obtain a complete snapshot of that ALTO resource, as specified in the base protocol <span>[<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>; Second, a client can subscribe to incremental changes of one or multiple ALTO resources using the incremental update extension <span>[<a href="#RFC8895" class="cite xref">RFC8895</a>]</span>, and a server pushes the updates to the client through a WebSocket connection.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">However, the current transport mechanisms are not optimized for storing,
              transmitting, and processing (incremental) updates of ALTO
              information resources. Specifically, the new transport mechanism must
          satisfy the following requirements:<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.1-3">
          <dt id="section-2.1-3.1">Incremental updates:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-3.2">Incremental updates can reduce both the data storage on an ALTO server and the transmission time of the updates, especially when the change of an ALTO resource is minor.  The base protocol does not support incremental updates and the current incremental update mechanism in <span>[<a href="#RFC8895" class="cite xref">RFC8895</a>]</span> has limitations (as discussed below).<a href="#section-2.1-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.3">Concurrent, non-blocking update transmission:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-3.4">When a client needs to receive and apply multiple incremental updates, it is desired to transmit the updates concurrently to fully utilize the bandwidth and to reduce head-of-line blocking. The ALTO incremental update extension <span>[<a href="#RFC8895" class="cite xref">RFC8895</a>]</span>, unfortunately, does not satisfy this requirement -- even though the updates can be multiplexed by the server to avoid head-of-line blocking between multiple resources, the updates are delivered sequentially and can suffer from head-of-line blocking inside the connection, for example, when there is a packet loss.<a href="#section-2.1-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.5">Prefetching updates:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-3.6">Prefetching updates can reduce the time to send the request, making it possible to achieve sub-RTT transmission of ALTO incremental updates. In <span>[<a href="#RFC8895" class="cite xref">RFC8895</a>]</span>, this requirement is fulfilled using server-sent event (SSE) and is still desired in the ALTO new transport.<a href="#section-2.1-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.1-3.7">Backward compatibility:</dt>
          <dd style="margin-left: 1.5em" id="section-2.1-3.8"> While some of the previous requirements are offered by HTTP/2 <span>[<a href="#RFC9113" class="cite xref">RFC9113</a>]</span> and HTTP/3 <span>[<a href="#RFC9114" class="cite xref">RFC9114</a>]</span>, it is desired that the ALTO new transport mechanism can work with HTTP/1.x as many development tools and current ALTO implementations are based on HTTP/1.x.<a href="#section-2.1-3.8" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-2.1-4">The ALTO new transport specified in this document satisfies all the design requirements and hence improves the efficiency of continuous dissemination of ALTO information. The key idea is to introduce a unified data model to describe the changes (snapshots and incremental updates) of an ALTO resource, referred to as a TIPS view. Along with the data model, this document also specifies a unified naming for the snapshots and incremental updates, independent of the HTTP version. Thus, these updates can be concurrently requested. Prefetching is realized using long polling in HTTP/1.1 and using long polling or server push in higher HTTP versions.<a href="#section-2.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tipsinfo-terms">
<section id="section-2.2">
        <h3 id="name-tips-terminology">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-tips-terminology" class="section-name selfRef">TIPS Terminology</a>
        </h3>
<p id="section-2.2-1">This document uses the following components:<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.2-2">
          <dt id="section-2.2-2.1">Network information resource:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.2">Is a piece of retrievable information about network state, per <span>[<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>.<a href="#section-2.2-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.3">TIPS view (tv):</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.4">Is defined in this document to be the container of incremental transport information
          about the network information resource.  Though the TIPS view
          may include other transport information, it has two basic components: updates graph (ug)
          and receiver set (rs).<a href="#section-2.2-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.5">Updates graph (ug):</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.6">Is a directed, acyclic graph that contains a sequence of incremental updates and snapshots (collectively called update items) of a network information resource,
          based on the TIPS data model defined in <a href="#basic-data-model" class="auto internal xref">Section 3.1</a>.  Each incremental update is assigned a sequence number, and a
          URI can be constructed using the sequence numbers.  A static network information resource (e.g., Cost Map, Network
          Map) may need only a single updates graph.  A dynamic network
          information resource (e.g., Filtered Cost Map) may create an
          updates graph (within a new TIPS view) for each unique filter request.<a href="#section-2.2-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.7">Receiver set (rs):</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.8">Contains the set of clients who have requested to receive server push updates.<a href="#section-2.2-2.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.9">Snapshot:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.10">Is a full replacement of a resource and is contained within an updates graph.<a href="#section-2.2-2.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.11">Incremental update:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.12">Is a partial replacement of a resource contained within an updates graph, codified in this document as a JSON Merge Patch or JSON Patch.<a href="#section-2.2-2.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.13">Update item:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.14">Refers to the content on an edge of the updates graph, which can be either a snapshot or incremental update.<a href="#section-2.2-2.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.15">ID#i-#j:</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.16">Denotes the update item (op, data) on a specific edge in the updates graph to transition from version at node i to version at node j,
          where i and j are the respective sequence numbers of the nodes the edge connects.<a href="#section-2.2-2.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-2.2-2.17">Information Resource Directory (IRD):</dt>
          <dd style="margin-left: 1.5em" id="section-2.2-2.18">Contains a list of available information resources provided by an
          ALTO server that can be requested by ALTO clients, per <span>[<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>.
          Each entry in an IRD indicates a URI at which an ALTO server
          accepts requests, and returns either an information resource or an information resource
          directory that references additional information resources.  An ALTO server's IRD MAY
          define one or more transport information publication services, which ALTO clients use
          to request new TIPS instances. See <a href="#tips-ird" class="auto internal xref">Section 5</a> for more details.<a href="#section-2.2-2.18" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-2.2-3">Figure 4 shows an example illustrating the TIPS abstraction.
           Each ALTO client (Client 1, Client 2, or Client 3)
           maintains a single HTTP connection with the ALTO server.<a href="#section-2.2-3" class="pilcrow">¶</a></p>
<span id="name-alto-transport-information"></span><div id="FigInfoStruct">
<figure id="figure-1">
          <div class="alignLeft art-text artwork" id="section-2.2-4.1">
<pre>

Network Information Resource:

a) Static resource (#1) such as NetworkMap
b) Filterable resource (#3) such as FilteredCostMap


                                   +-------------+
    +-----------+ +--------------+ |  Dynamic    | +-----------+
    |  Routing  | | Provisioning | |  Network    | | External  |
    | Protocols | |    Policy    | | Information | | Interface |
    +-----------+ +--------------+ +-------------+ +-----------+
          |              |                |              |
          |              |                |              |
+----------------------------------------------------------------------+
| ALTO Server                                                          |
|                                                                      |
| +------------------------------------------------------------------+ |
| |                                              Network Information | |
| |                                                                  | |
| | +-------------+     +-------------+     +-------------+          | |
| | | Information |     | Information |     | Information |          | |
| | | Resource #1 |     | Resource #2 |     | Resource #3 |          | |
| | +-------------+     +-------------+     +-------------+          | |
| |     |                                       /     \              | |
| +-----|--------------------------------------/-------\-------------+ |
|       |                                     /         \              |
| +-----|------------------------------------/-----------\-----------+ |
| |     |       Transport Information       /             \          | |
| |     |                                  /               \         | |
| | +--------+                     +--------+        +--------+      | |
| | |  tv1   |----+          +-----|  tv2   |        |  tv3   |---+  | |
| | +--------+    |          |     +--------+        +--------+   |  | |
| |     |         |          |           |             |          |  | |
| | +--------+ +--------+ +--------+ +--------+ +--------+ +--------+| |
| | | tv1/ug | | tv1/rs | | tv2/ug | | tv2/rs | | tv3/ug | | tv3/rs || |
| | +--------+ +--------+ +--------+ +--------+ +--------+ +--------+| |
| +----|\---------/\---------|---------/---------------|-------------+ |
|      | \       /  \        |        /                |               |
+------|--\-----/----\-------|-------/-----------------|---------------+
       |   \   /      \      |      /                  |
       |    +-/-----+  \     |     /                   |
       |     /       \  \    |    /  A single          |   A single
     ==|====/==     ==\==\===|===/== HTTP/2 or /3    ==|== HTTP/1.x
       |   /           \  \  |  /    connection        |   connection
   +----------+       +----------+                 +----------+
   | Client 1 |       | Client 2 |                 | Client 3 |
   +----------+       +----------+                 +----------+

tvi   = TIPS view i
tvi/ug = incremental updates graph associated with tsi
tvi/rs = receiver set of tvi (for server push)

</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-alto-transport-information" class="selfRef">ALTO Transport Information</a>
          </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="tips-updates-graph">
<section id="section-3">
      <h2 id="name-tips-updates-graph">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-tips-updates-graph" class="section-name selfRef">TIPS Updates Graph</a>
      </h2>
<p id="section-3-1">In order to provide incremental updates for a resource, an ALTO server creates an updates graph,
      which is a directed, acyclic graph that contains a sequence of incremental updates and snapshots
      (collectively called update items) of a network information resource.<a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="basic-data-model">
<section id="section-3.1">
        <h3 id="name-basic-data-model-of-updates">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-basic-data-model-of-updates" class="section-name selfRef">Basic Data Model of Updates Graph</a>
        </h3>
<p id="section-3.1-1">For each resource (e.g., a cost map, network map), the incremental
      updates and snapshots can be represented using the following directed acyclic graph model,
      where the server maps base resource IDs to incremental update IDs that are assigned sequentially (i.e., incremented by 1 each time):<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1-2.1">Each node in the graph is a version of the resource, where a tag identifies
        content of version (tag is valid only within the scope of resource).
        Version 0 is reserved as the initial state (empty/null).<a href="#section-3.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-2.2">Each edge is transport data (update item). In particular, edge from i to j is
        the (op, data) to transition version from version i to version j.<a href="#section-3.1-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.1-2.3">Node content is path independent (different paths arrive at the same content)<a href="#section-3.1-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.1-3">A concrete example is as shown in <a href="#data-model" class="auto internal xref">Figure 2</a>.
      Thick lines represent mandatory incremental updates, dotted lines represent optional incremental updates, and thin lines represent snapshots.
      Note that node content is path independent: the content can be obtained
      by applying the updates from different paths.  For example, assume the client already has version at 103: the version at 105
      can either be directly fetched as a snapshot, computed incrementally by applying the incremental updates between
      103 and 104, then 104 and 105, or if the optional update from 103 to 105 exists, computed incrementally by applying the incremental updates from 103 and 105.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<span id="name-tips-model-example"></span><div id="data-model">
<figure id="figure-2">
          <div class="alignLeft art-text artwork" id="section-3.1-4.1">
<pre>
                                                  +======+
                                                 -|  0   |
                                                / +======+
                                               /      |  \
                                     ID0-101  /       |   |
                                             /        |   |
                                           |/__       |   |
                                    +======+          |   |
               tag: 109783421097 -&gt; | 101  |          |   |
                                    +======+          |   |
                                       ||             |   |
                            ID101-102  ||             |   |
                                       \/             |   |
                                    +======+          |   |
               tag: 123566431234 -&gt; | 102  |          |   |
                                    +======+          |   |
                                       ||             |   |
                            ID102-103  ||             |   |
                                       \/             |   |
                                    +======+          /   |
               tag: 123400881080 -&gt; | 103  |&lt;--------/    |
+---------------+                   +======+ ID0-103      |
| Base Resource |  =====&gt;              ||   ..            |
+---------------+           ID103-104  ||    ..           |
                                       \/     ..          |
                                    +======+  ..          |
               tag: 123566452654 -&gt; | 104  |  .. ID103    |
                                    +======+  .. -105     |
                                       ||     ..          | ID0-105
                            ID104-105  ||     ..          |
                                       \/   |._           /
                                    +======+             /
               tag: 123567838392 -&gt; | 105  |&lt;-----------/
                                    +======+
                                       ||
                            ID105-106  ||
                                       \/
                                    +======+
               tag: 123566470983 -&gt; | 106  |
                                    +======+

          tag: denotes the version of the resource at node i
          ID#i-#j: denotes update item (op, data) to transition from
                        version at node i to version at node j

</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-tips-model-example" class="selfRef">TIPS Model Example</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="location-schema">
<section id="section-3.2">
        <h3 id="name-resource-location-schema">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-resource-location-schema" class="section-name selfRef">Resource Location Schema</a>
        </h3>
<p id="section-3.2-1">To access each individual update in an updates graph, consider the model represented
        as a "virtual" file system (adjacency list), contained within the root of a TIPS view URI (see <a href="#tips-createresp" class="auto internal xref">Section 6.2</a> for tips-view-uri definition).
        For example:<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<span id="name-location-schema-for-figure-"></span><div id="location-schema-fig">
<figure id="figure-3">
          <div class="alignLeft art-text artwork" id="section-3.2-2.1">
<pre>

      &lt;tips-view-uri&gt;  // relative URI to TIPS view
          ug    // updates graph
              0
                  101    // full 101 snapshot
                  103
                  105
              101
                  102    // 101 -&gt; 102 incremental update
              102
                  103
              103
                  104
                  105    // optional shortcut 103 -&gt; 105 incr. update
              104
                  105
              105
                  106
          push           // server push metadata
            ...
          meta           // TIPS view meta
            ...

</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-location-schema-for-figure-" class="selfRef">Location Schema for Figure 2</a>
          </figcaption></figure>
</div>
<p id="section-3.2-3">TIPS uses this file structure schema to generate template URIs which allow clients to construct
        the location of incremental updates after receiving the tips-view-uri path from the server.
        The generic template for the location of the update item on the edge from node i to node j in the updates graph is:<a href="#section-3.2-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.2-4">
<pre>
    &lt;tips-view-uri&gt;/ug/&lt;i&gt;/&lt;j&gt;
</pre><a href="#section-3.2-4" class="pilcrow">¶</a>
</div>
<p id="section-3.2-5"> Due to the sequential nature of the update item IDs, a client can long poll a future update
        that does not yet exist (e.g., the incremental update from 106 to 107) by constructing the URI for the next edge that will be added,
        starting from the sequence number of the current last node in the graph to the next sequential node (last node sequence number + 1):<a href="#section-3.2-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-3.2-6">
<pre>
    GET /&lt;tips-view-uri&gt;/ug/&lt;end-seq&gt;/&lt;end-seq + 1&gt;
</pre><a href="#section-3.2-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="update-invariants">
<section id="section-3.3">
        <h3 id="name-updates-graph-modification-">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-updates-graph-modification-" class="section-name selfRef">Updates Graph Modification Invariants</a>
        </h3>
<p id="section-3.3-1">A server MAY change its updates graph (to compact, to add nodes, etc.), but it MUST ensure that any
          resource state that it makes available is reachable by clients, either directly via a snapshot (that is, relative to 0)
          or indirectly by requesting an earlier snapshot and a contiguous set of incremental updates.  Additionally, to allow clients to
          proactively construct URIs for future update items, the ID of each added node in the updates graph must increment
          contiguously by 1.  More specifically,
          the updates graph MUST satisfy the following invariants:<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-2.1">Continuity: ns -&gt; ne, anything in between ns and ne also exists (implies ni -&gt; ni + 1 update item exists),
          where ns is start-seq and ne is end-seq.<a href="#section-3.3-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.2">Feasibility: let n0 denote the smallest version in N (where N is the complete set of nodes in the updates graph),
          the server can provide a snapshot of n0. In other words, there is always a direct link to ns, where ns is start-seq.<a href="#section-3.3-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.3">"Right shift" only: if a server provides [n1, n2] at time t and [n1', n2'] at time t'. If t' &gt; t and get [n1', n2'], then n1' &gt;= n1 and n2' &gt;= n2.<a href="#section-3.3-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.3-3">For example, in the case of a server compacting a resource's updates graph to conserve space, using the example model in <a href="#basic-data-model" class="auto internal xref">Section 3.1</a>, assume at time 0, the server provides the valid set [101,
        102, 103, 104, 105, 106].  At time 1, both [103, 104, 105, 106] and [105, 106] are valid sets. However, [102, 103, 104, 105, 106]
        is not a valid set as there is no snapshot of the version at 102 and [104, 105, 106] is not a valid set as there is no snapshot of the version at 104.
        Thus, there is a risk that the right content of the version at 102, in the first example, and 104, in the second example,
        cannot be obtained by a client that does not have the previous version at 101 or 103, respectively.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="tipsinfo-workflow">
<section id="section-4">
      <h2 id="name-tips-high-level-workflow">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-tips-high-level-workflow" class="section-name selfRef">TIPS High Level Workflow</a>
      </h2>
<div id="tipsinfo-overview">
<section id="section-4.1">
        <h3 id="name-workflow-overview">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-workflow-overview" class="section-name selfRef">Workflow Overview</a>
        </h3>
<p id="section-4.1-1">There are two ways a client can receive updates for a resource:<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4.1-2">
          <li id="section-4.1-2.1">Client Pull (see <a href="#client-pull" class="auto internal xref">Section 7</a>)<a href="#section-4.1-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-4.1-2.2">Server Push (see <a href="#server-push" class="auto internal xref">Section 8</a>)<a href="#section-4.1-2.2" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-4.1-3">At a high level, an ALTO client opens a persistent HTTP connection with an ALTO server and uses
           TIPS to retrieve a JSON object that contains a URI to a TIPS view of each network
           information resource that the client wants to monitor, along with a summary of each TIPS view
           (which provides, at minimum, the start and end sequence number of the updates graph
           and a server-recommended edge to consume first).<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">In the simplest use case, for client pull, the TIPS view summary provides enough
           information for the client to continuously pull each additional
           update, resulting in the following workflow:<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<span id="name-alto-tips-workflow-supporti"></span><div id="FigInfoWorkflowPull">
<figure id="figure-4">
          <div class="alignLeft art-text artwork" id="section-4.1-5.1">
<pre>
Client                                  TIPS
  o                                       .
  | Open persistent HTTP connection       .
  |--------------------------------------&gt;|
  |                                       .
  | POST to create/receive a TIPS view    .
  |           for resource 1              .
  | ------------------------------------&gt; |
  | &lt;tips-view-uri1&gt;, &lt;tips-view-summary&gt; .
  |&lt;------------------------------------- |
  |                                       .
  | GET /&lt;tips-view-uri1&gt;/ug/&lt;i&gt;/&lt;j&gt;      .
  | --------------------------------------|
  | content on edge i to j                .
  |&lt;--------------------------------------|
  |                                       .
  | GET /&lt;tips-view-uri1&gt;/ug/&lt;j&gt;/&lt;j+1&gt;    .
  | -------------------------------------&gt;|
  |                                       .
  |                                       .
  | content on edge j to j+1              .
  |&lt;--------------------------------------|
  |                                       .
  | DELETE TIPS view for resource 1       .
  |-------------------------------------&gt; |
  |                                       .
  | Close HTTP connection                 .
  |--------------------------------------&gt;|
  o

  TIPS: Transport Information Publication Service

</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-alto-tips-workflow-supporti" class="selfRef">ALTO TIPS Workflow Supporting Client Pull</a>
          </figcaption></figure>
</div>
<p id="section-4.1-6">Note: in <a href="#FigInfoWorkflowPull" class="auto internal xref">Figure 4</a>,
      the update item at /&lt;tips-view-uri1&gt;/ug/&lt;j&gt;/&lt;j+1&gt; may not yet
      exist, so the server holds the request until the update becomes available (long polling).<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<p id="section-4.1-7">A client that prefers server push can use the following workflow:<a href="#section-4.1-7" class="pilcrow">¶</a></p>
<span id="name-alto-tips-workflow-supportin"></span><div id="FigInfoWorkflowPush">
<figure id="figure-5">
          <div class="alignLeft art-text artwork" id="section-4.1-8.1">
<pre>
Client                                  TIPS
  o                                       .
  | Open persistent HTTP connection       .
  |--------------------------------------&gt;|
  |                                       .
  | POST to create/receive a TIPS view    .
  |      for resource 1 and add           .
  |      self to receiver set             .
  | ------------------------------------&gt; |
  | &lt;tips-view-uri1&gt;, &lt;tips-view-summary&gt; .
  |&lt;------------------------------------- |
  |                                       .
  | PUSH &lt;tips-view-uri1&gt;/ug/&lt;i&gt;/&lt;j&gt;      .
  | &lt;-------------------------------------|
  |                                       .
  | PUSH &lt;tips-view-uri1&gt;/ug/&lt;j&gt;/&lt;j+1&gt;    .
  | &lt;-------------------------------------|
  |                                       .
  | PUT to remove self from receiver      .
  |      set of resource 1                .
  |-------------------------------------&gt; |
  |                                       .
  | Close HTTP connection                 .
  |--------------------------------------&gt;|
  o

  TIPS: Transport Information Publication Service

</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-alto-tips-workflow-supportin" class="selfRef">ALTO TIPS Workflow Supporting Server Push</a>
          </figcaption></figure>
</div>
</section>
</div>
<div id="tipsinfo-httpversions">
<section id="section-4.2">
        <h3 id="name-tips-with-different-http-ve">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-tips-with-different-http-ve" class="section-name selfRef">TIPS With Different HTTP Versions</a>
        </h3>
<p id="section-4.2-1">
          The HTTP version a "https" connection uses is negotiated between client and server using the TLS ALPN extension, described in
          <span><a href="https://rfc-editor.org/rfc/rfc9113#section-3.1" class="relref">Section 3.1</a> of [<a href="#RFC9113" class="cite xref">RFC9113</a>]</span> for HTTP/2 and <span><a href="https://rfc-editor.org/rfc/rfc9114#section-3.1" class="relref">Section 3.1</a> of [<a href="#RFC9114" class="cite xref">RFC9114</a>]</span> for HTTP/3.  For a "http" connection, the explicit
          announcement of HTTP/2 or HTTP/3 support by the server is outside the scope of this document.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">
            While TIPS is designed to take advantage of newer HTTP features like
            server push and substreams for concurrent fetch, TIPS still functions with HTTP/1.x for client pull
            defined in <a href="#client-pull" class="auto internal xref">Section 7</a>,
            with the limitation that it cannot cancel any outstanding requests or
            fetch resources concurrently over the same connection due to the blocking nature
            of HTTP/1.x requests.  Additionally, because HTTP/1.x does not support server push,
            the use of TIPS with server push defined in <a href="#server-push" class="auto internal xref">Section 8</a>
            is not available if a client connects to an ALTO server with HTTP/1.x.
            If a client only capable of HTTP/1.x desires to monitor multiple resources at the same time,
            it must open multiple connections, one for each resource, so that an outstanding long-poll request
            can be issued for each resource to monitor for new updates.
            For HTTP/2 and /3, because of substreams, multiple resources can be
            monitored simultaneously.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="tips-ird">
<section id="section-5">
      <h2 id="name-tips-information-resource-d">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-tips-information-resource-d" class="section-name selfRef">TIPS Information Resource Directory (IRD) Announcement</a>
      </h2>
<p id="section-5-1">An ALTO server's IRD (Information Resource Directory) MAY define
          one or more transport information publication services, which
          ALTO clients use to request new TIPS instances.  An IRD entry
          defining a TIPS MUST declare the "media-type", and specify
          "capabilities" and "uses" as follows.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="tips-media-type">
<section id="section-5.1">
        <h3 id="name-media-type">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-media-type" class="section-name selfRef">Media Type</a>
        </h3>
<p id="section-5.1-1">The media type of the Transport Information Publication Service resource is
          "application/alto-tips+json".<a href="#section-5.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tips-cap">
<section id="section-5.2">
        <h3 id="name-capabilities">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-capabilities" class="section-name selfRef">Capabilities</a>
        </h3>
<p id="section-5.2-1">The capabilities declaration of TIPS is modelled on that defined
            in <span><a href="https://rfc-editor.org/rfc/rfc8895#section-6.3" class="relref">Section 6.3</a> of [<a href="#RFC8895" class="cite xref">RFC8895</a>]</span>.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">Specifically, the capabilities are defined as an object of
          type TIPSCapabilities:<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.2-3">
<pre>
     object {
       IncrementalUpdateMediaTypes incremental-change-media-types;
       Boolean                     support-server-push;
     } TIPSCapabilities;

     object-map {
        ResourceID -&gt; String;
     } IncrementalUpdateMediaTypes;
</pre><a href="#section-5.2-3" class="pilcrow">¶</a>
</div>
<p id="section-5.2-4">with field:<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-5.2-5">
          <dt id="section-5.2-5.1">incremental-change-media-types: </dt>
          <dd style="margin-left: 1.5em" id="section-5.2-5.2">
            <p id="section-5.2-5.2.1">If a TIPS can provide updates with incremental changes
              for a resource, the "incremental-change-media-types" field has an
              entry for that resource-id, and the value is the
              supported media types of the incremental change separated by commas.
              For the implementation of this specification, this will be
              "application/merge-patch+json", "application/json-patch+json",
              or "application/merge-patch+json,application/json-patch+json".
              Future extensions may define other types of incremental changes.<a href="#section-5.2-5.2.1" class="pilcrow">¶</a></p>
<p id="section-5.2-5.2.2">When choosing the media types to encode incremental updates for a
              resource, the server MUST consider the limitations of
              the encoding.  For example, when a JSON merge patch specifies that
              the value of a field is null, its semantics are that the field is
              removed from the target and hence the field is no longer defined
              (i.e., undefined).  This, however, may not be the intended
              result for the resource, when null and undefined have different
              semantics for the resource.  In such a case, the server
              MUST choose JSON patch over JSON merge patch if JSON patch is
              indicated as a capability of the TIPS.  If the server
              does not support JSON patch to handle such a case, the server then
              needs to send a full replacement.<a href="#section-5.2-5.2.2" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-5.2-5.3">support-server-push: </dt>
          <dd style="margin-left: 1.5em" id="section-5.2-5.4">
            <p id="section-5.2-5.4.1">The "support-server-push" field specifies whether the given TIPS
              supports server push.  If the "support-server-push"
              field is TRUE, this TIPS will allow a client to start or stop server
          push. If the field is FALSE or not present, this TIPS does not provide server push.<a href="#section-5.2-5.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="tips-uses">
<section id="section-5.3">
        <h3 id="name-uses">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-uses" class="section-name selfRef">Uses</a>
        </h3>
<p id="section-5.3-1">The "uses" attribute MUST be an array with the resource-ids of every
              network information resource for which this TIPS can provide service.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<p id="section-5.3-2">This set may be any subset of the ALTO server's network information resources and may
              include resources defined in linked IRDs.  However, it is RECOMMENDED
              that the ALTO server selects a set that is closed under the resource
              dependency relationship.  That is, if a TIPS' "uses" set
              includes resource R1 and resource R1 depends on ("uses") resource R0,
              then the TIPS' "uses" set SHOULD include R0 as well as R1.
              For example, if a TIPS provides a TIPS view for a cost map, it
              SHOULD also provide a TIPS view for the network map upon which
              that cost map depends.<a href="#section-5.3-2" class="pilcrow">¶</a></p>
<p id="section-5.3-3">If the set is not closed, at least one resource R1 in the "uses" field of a TIPS depends on another resource R0 which is not in the "uses" field of the same TIPS. Thus, a client cannot receive incremental updates for R0 from the same TIPS service. If the client observes in an update of R1 that the version tag for R0 has changed, it must make a request to retrieve the full content of R0, which is likely to be less efficient than receiving the incremental updates of R0.<a href="#section-5.3-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tips-ird-example">
<section id="section-5.4">
        <h3 id="name-example">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-example" class="section-name selfRef">Example</a>
        </h3>
<p id="section-5.4-1">Extending the IRD example in <span><a href="https://rfc-editor.org/rfc/rfc8895#section-8.1" class="relref">Section 8.1</a> of [<a href="#RFC8895" class="cite xref">RFC8895</a>]</span>, below is the
          IRD of an ALTO server supporting ALTO base protocol, ALTO/SSE, and
          ALTO TIPS.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-5.4-2">
<pre>
    "my-network-map": {
      "uri": "https://alto.example.com/networkmap",
      "media-type": "application/alto-networkmap+json"
    },
    "my-routingcost-map": {
      "uri": "https://alto.example.com/costmap/routingcost",
      "media-type": "application/alto-costmap+json",
      "uses": ["my-networkmap"],
      "capabilities": {
        "cost-type-names": ["num-routingcost"]
      }
    },
    "my-hopcount-map": {
      "uri": "https://alto.example.com/costmap/hopcount",
      "media-type": "application/alto-costmap+json",
      "uses": ["my-networkmap"],
      "capabilities": {
        "cost-type-names": ["num-hopcount"]
      }
    },

    "my-filtered-cost-map": {
      "uri":
        "https://alto.example.com/costmap/filtered/constraints",
      "media-type": "application/alto-costmap+json",
      "accepts": "application/alto-costmapfilter+json",
      "uses": ["my-networkmap"],
      "capabilities": {
        "cost-type-names": ["num-routingcost", "num-hopcount"],
        "cost-constraints": true
      }
    },

    "my-simple-filtered-cost-map": {
      "uri": "https://alto.example.com/costmap/filtered/simple",
      "media-type": "application/alto-costmap+json",
      "accepts": "application/alto-costmapfilter+json",
      "uses": ["my-networkmap"],
      "capabilities": {
        "cost-type-names": ["num-routingcost", "num-hopcount"],
        "cost-constraints": false
      }
    },

    "my-props": {
      "uri": "https://alto.example.com/properties",
      "media-type": "application/alto-endpointprops+json",
      "accepts": "application/alto-endpointpropparams+json",
      "capabilities": {
        "prop-types": ["priv:ietf-bandwidth"]
      }
    },

    "my-pv": {
      "uri": "https://alto.example.com/endpointcost/pv",
      "media-type": "multipart/related;
                      type=application/alto-endpointcost+json",
      "accepts": "application/alto-endpointcostparams+json",
      "capabilities": {
        "cost-type-names": [ "path-vector" ],
        "ane-properties": [ "maxresbw", "persistent-entities" ]
      }
    },

    "update-my-costs": {
      "uri": "https://alto.example.com/updates/costs",
      "media-type": "text/event-stream",
      "accepts": "application/alto-updatestreamparams+json",
      "uses": [
          "my-network-map",
          "my-routingcost-map",
          "my-hopcount-map",
          "my-simple-filtered-cost-map"
      ],
      "capabilities": {
        "incremental-change-media-types": {
          "my-network-map": "application/json-patch+json",
          "my-routingcost-map": "application/merge-patch+json",
          "my-hopcount-map": "application/merge-patch+json"
        },
        "support-stream-control": true
      }
    },

    "update-my-costs-tips": {
      "uri": "https://alto.example.com/updates-new/costs",
      "media-type": "application/alto-tips+json",
      "accepts": "application/alto-tipsparams+json",
      "uses": [
          "my-network-map",
          "my-routingcost-map",
          "my-hopcount-map",
          "my-simple-filtered-cost-map"
      ],
      "capabilities": {
        "incremental-change-media-types": {
          "my-network-map": "application/json-patch+json",
          "my-routingcost-map": "application/merge-patch+json",
          "my-hopcount-map": "application/merge-patch+json",
          "my-simple-filtered-cost-map": "application/merge-patch+json"
        },
        "support-server-push": true
      }
    },

    "update-my-props": {
      "uri": "https://alto.example.com/updates/properties",
      "media-type": "text/event-stream",
      "uses": [ "my-props" ],
      "accepts": "application/alto-updatestreamparams+json",
      "capabilities": {
        "incremental-change-media-types": {
          "my-props": "application/merge-patch+json"
        },
        "support-stream-control": true
      }
    },
    "update-my-pv": {
      "uri": "https://alto.example.com/updates/pv",
      "media-type": "text/event-stream",
      "uses": [ "my-pv" ],
      "accepts": "application/alto-updatestreamparams+json",
      "capabilities": {
        "incremental-change-media-types": {
          "my-pv": "application/merge-patch+json"
        },
        "support-stream-control": true
      }
    }
</pre><a href="#section-5.4-2" class="pilcrow">¶</a>
</div>
<p id="section-5.4-3">Note that it is straightforward for an ALTO sever to run HTTP/2 and
          support concurrent retrieval of multiple resources such as "my-
          network-map" and "my-routingcost-map" using multiple HTTP/2 streams.<a href="#section-5.4-3" class="pilcrow">¶</a></p>
<p id="section-5.4-4">The resource "update-my-costs-tips" provides an ALTO TIPS based
          connection, and this is indicated by the media-type
          "application/alto-tips+json".<a href="#section-5.4-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="tips-create">
<section id="section-6">
      <h2 id="name-tips-open-close">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-tips-open-close" class="section-name selfRef">TIPS Open/Close</a>
      </h2>
<p id="section-6-1">Upon request, a server sends a TIPS view to a client. This TIPS view may be
      created at the time of the request or may already exist (either
      because another client has an active connection to a TIPS view for the
      same requested network resource or because the server perpetually
      maintains a TIPS view for an often-requested resource).  The server
      MAY keep track of which clients have an active connection
      to each TIPS view to determine whether or not it should delete a TIPS view
      and its corresponding updates graph and associated data.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="tips-createreq">
<section id="section-6.1">
        <h3 id="name-open-request">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-open-request" class="section-name selfRef">Open Request</a>
        </h3>
<p id="section-6.1-1">An ALTO client requests that the server provide a TIPS view for a
            given resource by sending an HTTP POST body with the media type
            "application/alto-tipsparams+json".  That body contains a JSON object
            of type TIPSReq, where:<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.1-2">
<pre>

     object {
        ResourceID   resource-id;
        [JSONString  tag;]
        [Object      input;]
        [Boolean     server-push;]
     } TIPSReq;

</pre><a href="#section-6.1-2" class="pilcrow">¶</a>
</div>
<p id="section-6.1-3">with the following fields:<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-6.1-4">
          <dt id="section-6.1-4.1">resource-id: </dt>
          <dd style="margin-left: 1.5em" id="section-6.1-4.2">
            <p id="section-6.1-4.2.1">The resource-id of an ALTO resource and MUST be in the TIPS' "uses"
                list (<a href="#tips-ird" class="auto internal xref">Section 5</a>).  If a client does not support all incremental methods
                from the set announced in the server's capabilities, the client
                MUST NOT use the TIPS service.<a href="#section-6.1-4.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-4.3">tag: </dt>
          <dd style="margin-left: 1.5em" id="section-6.1-4.4">
            <p id="section-6.1-4.4.1">If the resource-id is a GET-mode resource with a version tag (or "vtag"), as defined in
                <span><a href="https://rfc-editor.org/rfc/rfc7285#section-10.3" class="relref">Section 10.3</a> of [<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>, and the ALTO client has
                previously retrieved a version of that resource from ALTO,
                the ALTO client MAY set the "tag" field to the tag
                part of the client's version of that resource.  The server MAY
                use the tag when calculating a recommended starting edge for the client to consume.
                Note that the client MUST support all incremental methods from the set
                announced in the server's capabilities for this resource.<a href="#section-6.1-4.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-4.5">input: </dt>
          <dd style="margin-left: 1.5em" id="section-6.1-4.6">
            <p id="section-6.1-4.6.1">If the resource is a POST-mode service that requires input, the
                ALTO client MUST set the "input" field to a JSON object with the
                parameters that the resource expects.<a href="#section-6.1-4.6.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.1-4.7">server-push: </dt>
          <dd style="margin-left: 1.5em" id="section-6.1-4.8">
            <p id="section-6.1-4.8.1">Set to TRUE if a client desires to receive updates via server push. If the value is FALSE or not present, the client does not accept server push updates. See <a href="#server-push" class="auto internal xref">Section 8</a> for detailed specifications.<a href="#section-6.1-4.8.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="tips-createresp">
<section id="section-6.2">
        <h3 id="name-open-response">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-open-response" class="section-name selfRef">Open Response</a>
        </h3>
<p id="section-6.2-1">The response to a valid request MUST be a JSON object of
            type AddTIPSResponse, denoted as media type "application/alto-tips+json":<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2-2">
<pre>
      object {
        JSONString        tips-view-uri;
        TIPSViewSummary   tips-view-summary;
      } AddTIPSResponse;

      object {
        UpdatesGraphSummary   updates-graph-summary;
        [Boolean              server-push;]
      } TIPSViewSummary;

      object {
        JSONNumber       start-seq;
        JSONNumber       end-seq;
        StartEdgeRec     start-edge-rec;
      } UpdatesGraphSummary;

      object {
        JSONNumber       seq-i;
        JSONNumber       seq-j;
      } StartEdgeRec;
</pre><a href="#section-6.2-2" class="pilcrow">¶</a>
</div>
<p id="section-6.2-3">with the following fields:<a href="#section-6.2-3" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-6.2-4">
          <dt id="section-6.2-4.1">tips-view-uri: </dt>
          <dd style="margin-left: 1.5em" id="section-6.2-4.2">
            <p id="section-6.2-4.2.1">Relative URI to the TIPS view of a network resource,  which MUST be unique per connection,
              and is de-aliased by the server to refer to the actual location of the TIPS view which may
              be shared by other clients.<a href="#section-6.2-4.2.1" class="pilcrow">¶</a></p>
<p id="section-6.2-4.2.2">When creating the URI for the TIPS view, TIPS MUST
                 NOT use other properties of an HTTP request, such as cookies or
                 the client's IP address, to determine the TIPS view.
                 Furthermore, TIPS MUST NOT reuse a URI for a different object
                 in the same connection.<a href="#section-6.2-4.2.2" class="pilcrow">¶</a></p>
<p id="section-6.2-4.2.3">It is expected that there is an internal mechanism to map a
                 tips-view-uri to the TIPS view to be accessed.
                 For example, TIPS may assign a unique, internal state id to each
                 TIPS view instance.  However, the exact mechanism is left to
                 the TIPS provider.<a href="#section-6.2-4.2.3" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-6.2-4.3">tips-view-summary: </dt>
          <dd style="margin-left: 1.5em" id="section-6.2-4.4">
            <p id="section-6.2-4.4.1">Contains both an updates-graph-summary and an optional server-push boolean value
              which is set to TRUE if and only if the client indicates server push.<a href="#section-6.2-4.4.1" class="pilcrow">¶</a></p>
<p id="section-6.2-4.4.2">The updates-graph-summary field contains the starting sequence number (start-seq) of the updates graph
              and the last sequence number (end-seq) that is currently available, along with
              a recommended edge to consume (start-edge-rec).  How the server calculates the recommended edge
              depends on the implementation.  Ideally, if the client does not provide a version
              tag, the server should recommend the edge of the latest snapshot available.  If the client
              does provide a version tag, the server should calculate the cumulative size of the
              incremental updates available from that version onward and compare it to the size of the
              complete resource snapshot.  If the snapshot is bigger, the server should
              recommend the first incremental update edge starting from client's tagged version. Else,
              the server should recommend the latest snapshot edge.  If the client indicates
              server push, the recommended edge will be the first content pushed.<a href="#section-6.2-4.4.2" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-6.2-5">If the request has any errors, the TIPS service MUST return an HTTP "400 Bad
            Request" to the ALTO client; the body of the response follows the generic
            ALTO error response format specified in
            <span><a href="https://rfc-editor.org/rfc/rfc7285#section-8.5.2" class="relref">Section 8.5.2</a> of [<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>.
            Hence, an example ALTO error response has the format:<a href="#section-6.2-5" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.2-6">
<pre>
          HTTP/1.1 400 Bad Request
          Content-Length: 131
          Content-Type: application/alto-error+json
          Connection: close

          {
              "meta":{
                  "code":  "E_INVALID_FIELD_VALUE",
                  "field": "resource-id",
                  "value": "my-network-map/#"
              }
          }

</pre><a href="#section-6.2-6" class="pilcrow">¶</a>
</div>
<p id="section-6.2-7">Note that "field" and "value" are optional fields.  If the "value"
            field exists, the "field" field MUST exist.<a href="#section-6.2-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.2-8.1">If the TIPS request does not have a "resource-id" field, the error
              code of the error message MUST be E_MISSING_FIELD and the "field"
              field SHOULD be "resource-id".  The TIPS service MUST NOT create
              any TIPS view.<a href="#section-6.2-8.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.2-8.2">If the "resource-id" field is invalid or is not associated with
              the TIPS, the error code of the error message MUST be
              E_INVALID_FIELD_VALUE.  The "field" field SHOULD be the full path
              of the "resource-id" field, and the "value" field SHOULD be the
              invalid resource-id.<a href="#section-6.2-8.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.2-8.3">If the resource is a POST-mode service that requires input, the
              client MUST set the "input" field to a JSON object with the
              parameters that that resource expects.  If the "input" field is
              missing or invalid, TIPS MUST return the same error response that
              resource would return for missing or invalid input
              (see <span>[<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>).<a href="#section-6.2-8.3" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="tips-example">
<section id="section-6.3">
        <h3 id="name-open-example">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-open-example" class="section-name selfRef">Open Example</a>
        </h3>
<p id="section-6.3-1">For simplicity, assume that the ALTO server is using the Basic
          authentication.  If a client with username "client1" and password
          "helloalto" wants to create a TIPS view of an ALTO Cost Map
          resource with resource ID "my-routingcost-map", it can send the
          following request:<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.3-2">
<pre>
    POST /tips HTTP/1.1
    Host: alto.example.com
    Accept: application/alto-tips+json, application/alto-error+json
    Authorization: Basic Y2xpZW50MTpoZWxsb2FsdG8K
    Content-Type: application/alto-tipsparams+json
    Content-Length: 41

    {
      "resource-id": "my-routingcost-map"
    }
</pre><a href="#section-6.3-2" class="pilcrow">¶</a>
</div>
<p id="section-6.3-3">If the operation is successful, the ALTO server returns the following message:<a href="#section-6.3-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.3-4">
<pre>
    HTTP/1.1 200 OK
    Content-Type: application/alto-tips+json
    Content-Length: 291

    {
        "tips-view-uri": "/tips/2718281828459",
        "tips-view-summary": {
          "updates-graph-summary": {
            "start-seq": 101,
            "end-seq": 106,
            "start-edge-rec" : {
              "seq-i": 0,
              "seq-j": 105
            }
          },
          "server-push": false
        }
    }
</pre><a href="#section-6.3-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="tips-delete">
<section id="section-6.4">
        <h3 id="name-close-request">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-close-request" class="section-name selfRef">Close Request</a>
        </h3>
<p id="section-6.4-1">An ALTO client can indicate it no longer desires to pull/receive updates
        for a specific network resource by "deleting" the TIPS view using the returned
        tips-view-uri and the HTTP DELETE method.  Whether or not the server
            actually deletes the TIPS view is implementation dependent.  For
            example, an ALTO server may maintain a set of clients that subscribe
            to the TIPS view of a resource: a client that deletes the view is
            removed from the set, and the TIPS view is only removed when the
            dependent set becomes empty. See other potential implementations in <a href="#ops-shared" class="auto internal xref">Section 9.7</a>. The DELETE request MUST have the following format:<a href="#section-6.4-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-6.4-2">
<pre>
    DELETE /&lt;tips-view-uri&gt;
</pre><a href="#section-6.4-2" class="pilcrow">¶</a>
</div>
<p id="section-6.4-3">The response to a valid request MUST be 200 if success, and the corresponding
            error code if there is any error.<a href="#section-6.4-3" class="pilcrow">¶</a></p>
<p id="section-6.4-4">If the connection between the client and TIPS provider is severed without a DELETE
        request having been sent, the server MUST treat it as if the client had sent a DELETE request
        because the TIPS view is, at least from the client view, per-session based.<a href="#section-6.4-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="client-pull">
<section id="section-7">
      <h2 id="name-tips-data-transfers-client-">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-tips-data-transfers-client-" class="section-name selfRef">TIPS Data Transfers - Client Pull</a>
      </h2>
<p id="section-7-1">TIPS allows an ALTO client to retrieve the content of
         an update item from the updates graph, with an update item
         defined as the content (incremental update or snapshot) on an edge
         in the updates graph.<a href="#section-7-1" class="pilcrow">¶</a></p>
<div id="pull-request">
<section id="section-7.1">
        <h3 id="name-request">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-request" class="section-name selfRef">Request</a>
        </h3>
<p id="section-7.1-1">The client sends an HTTP GET request, where the media
        type of an update item resource MUST be the same as
        the "media-type" field of the update item on the specified edge
        in the updates graph.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">For example, if the client wants to query the content of the first
           update item (0 -&gt; 101) whose media type is
           "application/alto-costmap+json", it must set the "Accept" header to
           "application/alto-costmap+json, application/alto-error+json" in the
           request.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1-3">The GET request MUST have the following format:<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.1-4">
<pre>
    GET /&lt;tips-view-uri&gt;/ug/&lt;i&gt;/&lt;j&gt;
</pre><a href="#section-7.1-4" class="pilcrow">¶</a>
</div>
<p id="section-7.1-5">For example, if the client wants to query the content of the first
           update item (0 -&gt; 101), it will send a request to
           "/tips/2718281828459/ug/0/101".<a href="#section-7.1-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="urs-response">
<section id="section-7.2">
        <h3 id="name-response">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-response" class="section-name selfRef">Response</a>
        </h3>
<p id="section-7.2-1">If the request is valid (ug/&lt;i&gt;/&lt;j&gt; exists), the response is encoded as a JSON object
           whose data format is indicated by the media type.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2-2">It is possible that a client conducts proactive fetching of future updates, by long polling updates
        that have not been listed in the directory yet. For long-poll prefetch, the client must have
        indicated the media type which may appear. It is RECOMMENDED that the server allows for at
        least the prefetch of &lt;end-seq&gt; -&gt; &lt;end-seq + 1&gt;<a href="#section-7.2-2" class="pilcrow">¶</a></p>
<p id="section-7.2-3">Hence, the server processing logic SHOULD be:<a href="#section-7.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2-4.1">If ug/&lt;i&gt;/&lt;j&gt; exists: return content using encoding.<a href="#section-7.2-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-4.2">Else if ug/&lt;i&gt;/&lt;j&gt; pre-fetch is acceptable: put request in a backlog queue.<a href="#section-7.2-4.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-4.3">Else: return error.<a href="#section-7.2-4.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-7.2-5">It is RECOMMENDED that the server uses the following HTTP codes to
          indicate errors, with the media type "application/alto-error+json",
          regarding update item requests.<a href="#section-7.2-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2-6.1">404 (Not Found): if the requested TIPS view does not exist or is closed.<a href="#section-7.2-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-6.2">410 (Gone): if an update has a seq that is smaller than the start-seq.<a href="#section-7.2-6.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-6.3">415 (Unsupported Media Type): if the media type(s) accepted by the client
            does not include the media type of the update chosen by the server.<a href="#section-7.2-6.3" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-6.4">425 (Too Early): if the seq exceeds the server prefetch window<a href="#section-7.2-6.4" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-6.5">429 (Too Many Requests): when the number of pending (long-poll) requests
            exceeds server threshold. Server may indicate when to re-try the request in the
            "Re-Try After" headers.<a href="#section-7.2-6.5" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="urs-example">
<section id="section-7.3">
        <h3 id="name-example-2">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-example-2" class="section-name selfRef">Example</a>
        </h3>
<p id="section-7.3-1">Assume the client wants to get the contents of the update item on edge 0 to 101. The
           request is:<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.3-2">
<pre>
    GET /tips/2718281828459/ug/0/101 HTTP/1.1
    Host: alto.example.com
    Accept: application/alto-costmap+json, application/alto-error+json
</pre><a href="#section-7.3-2" class="pilcrow">¶</a>
</div>
<p id="section-7.3-3">And the response will be:<a href="#section-7.3-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.3-4">
<pre>
    HTTP/1.1 200 OK
    Content-Type: application/alto-costmap+json
    Content-Length: 50

    { ... full replacement of my-routingcost-map ... }
</pre><a href="#section-7.3-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="new-edge">
<section id="section-7.4">
        <h3 id="name-new-next-edge-recommendatio">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-new-next-edge-recommendatio" class="section-name selfRef">New Next Edge Recommendation</a>
        </h3>
<p id="section-7.4-1">While intended TIPS usage is for the client to recieve a recommended starting edge in the TIPS summary,
        consume that edge, then construct all future URIs by incrementing the sequence count by 1, there
        may be cases in which the client needs to request a new next edge to consume.  For example, if a client has
        an open TIPS view yet has not polled in a while, the client may requests the next logical incremental URI but
        the server has compacted the updates graph so it no longer exists.  Thus, the client must request a new next edge to consume
        based on its current version of the resource.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
<div id="new-edge-request">
<section id="section-7.4.1">
          <h4 id="name-request-2">
<a href="#section-7.4.1" class="section-number selfRef">7.4.1. </a><a href="#name-request-2" class="section-name selfRef">Request</a>
          </h4>
<p id="section-7.4.1-1">An ALTO client requests that the server provide a next edge recommendation for a given TIPS view
        by sending an HTTP POST request with the media type "application/alto-tipsparams+json". The URI has the form:<a href="#section-7.4.1-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.4.1-2">
<pre>
    POST /&lt;tips-view-uri&gt;/ug
</pre><a href="#section-7.4.1-2" class="pilcrow">¶</a>
</div>
<p id="section-7.4.1-3">The POST body have the following form, where providing the version tag of the resource the client already has is optional:<a href="#section-7.4.1-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.4.1-4">
<pre>
    object {
        [JSONString  tag;]
     } TIPSNextEdgeReq;

</pre><a href="#section-7.4.1-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="new-edge-response">
<section id="section-7.4.2">
          <h4 id="name-response-2">
<a href="#section-7.4.2" class="section-number selfRef">7.4.2. </a><a href="#name-response-2" class="section-name selfRef">Response</a>
          </h4>
<p id="section-7.4.2-1">The response to a valid request MUST be a JSON object of type
        UpdatesGraphSummary (defined in <a href="#tips-createresp" class="auto internal xref">Section 6.2</a> but reproduced below as well), denoted as media type "application/alto-tips+json":<a href="#section-7.4.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-7.4.2-2">
<pre>
      object {
        JSONNumber       start-seq;
        JSONNumber       end-seq;
        StartEdgeRec     start-edge-rec;
      } UpdatesGraphSummary;

      object {
        JSONNumber       seq-i;
        JSONNumber       seq-j;
      } StartEdgeRec;
</pre><a href="#section-7.4.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="server-push">
<section id="section-8">
      <h2 id="name-tips-data-transfer-server-p">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-tips-data-transfer-server-p" class="section-name selfRef">TIPS Data Transfer - Server Push</a>
      </h2>
<p id="section-8-1">TIPS allows an ALTO client to receive an update item pushed by the ALTO server.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">If a client registers for server push, it should not request updates via pull to avoid receiving the same information twice,
      unless the client does not receive the expected updates (see <a href="#ops-clientproc" class="auto internal xref">Section 9.4</a>).<a href="#section-8-2" class="pilcrow">¶</a></p>
<div id="manage-push">
<section id="section-8.1">
        <h3 id="name-manage-server-push">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-manage-server-push" class="section-name selfRef">Manage Server Push</a>
        </h3>
<p id="section-8.1-1">A client starts to receive server push when it is added to the receiver set.
          A client can read the status of the push state and remove itself from the receiver set to stop server push.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<div id="push-start">
<section id="section-8.1.1">
          <h4 id="name-start-server-push">
<a href="#section-8.1.1" class="section-number selfRef">8.1.1. </a><a href="#name-start-server-push" class="section-name selfRef">Start Server Push</a>
          </h4>
<p id="section-8.1.1-1">A client can add itself explicitly to the receiver set or add itself to the receiver set when
            requesting the TIPS view. Before a client starts receiving server push for a TIPS view, it MUST enable server push in HTTP, i.e., following <span><a href="https://rfc-editor.org/rfc/rfc9113#section-8.4" class="relref">Section 8.4</a> of [<a href="#RFC9113" class="cite xref">RFC9113</a>]</span> for HTTP/2 and <span><a href="https://rfc-editor.org/rfc/rfc9114#section-4.6" class="relref">Section 4.6</a> of [<a href="#RFC9114" class="cite xref">RFC9114</a>]</span> for HTTP/3. If the client does not enable HTTP server push, the ALTO server MUST return an ALTO error with the E_INVALID_FIELD_VALUE code and set the "field" to "server-push".<a href="#section-8.1.1-1" class="pilcrow">¶</a></p>
<p id="section-8.1.1-2">Explicit add: A client can explicitly add itself in the receiver set by using the HTTP PUT method with media type
            "application/alto-tipsparams+json", where the
            client may optionally specify a starting edge (next-edge) from which it would like to receive updates:<a href="#section-8.1.1-2" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.1.1-3">
<pre>
    PUT /&lt;tips-view-uri&gt;/push

    object {
      Boolean     server-push;
      [NextEdge    next-edge;]
    } PushState;

    object {
      JSONNumber       seq-i;
      JSONNumber       seq-j;
    } NextEdge;
</pre><a href="#section-8.1.1-3" class="pilcrow">¶</a>
</div>
<p id="section-8.1.1-4">with the following fields:<a href="#section-8.1.1-4" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-8.1.1-5">
            <dt id="section-8.1.1-5.1">server-push: </dt>
            <dd style="margin-left: 1.5em" id="section-8.1.1-5.2">
              <p id="section-8.1.1-5.2.1">Set to true if the client desires to receive server push updates.<a href="#section-8.1.1-5.2.1" class="pilcrow">¶</a></p>
</dd>
            <dd class="break"></dd>
<dt id="section-8.1.1-5.3">next-edge: </dt>
            <dd style="margin-left: 1.5em" id="section-8.1.1-5.4">
              <p id="section-8.1.1-5.4.1">Optional field to request a starting edge to be pushed if the client has pulled the
              updates graph directory and has calculated the path it desires to take.  The server
              MAY push this edge first if available.<a href="#section-8.1.1-5.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-8.1.1-6">Short cut add: When requesting a TIPS view, an ALTO client can
          start server push by setting the option "server-push" field to be true using the HTTP POST method
          defined in <a href="#tips-createreq" class="auto internal xref">Section 6.1</a>.<a href="#section-8.1.1-6" class="pilcrow">¶</a></p>
<p id="section-8.1.1-7">Example of a client requesting a TIPS view and starting server push:<a href="#section-8.1.1-7" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.1.1-8">
<pre>
    Client -&gt; server request

    HEADERS
      - END_STREAM
      + END_HEADERS
        :method = POST
        :scheme = https
        :path = /tips
        host = alto.example.com
        accept = application/alto-error+json,
                      application/alto-tips+json
        content-type = application/alto-tips+json
        content-length = 67

    DATA
      - END_STREAM
      {
        "resource-id": "my-routingcost-map",
        "server-push": true
      }

    Server -&gt; client response:

    HEADERS
      - END_STREAM
      + END_HEADERS
        :status = 200
        content-type = application/alto-tips+json
        content-length = 196

    DATA
      - END_STREAM
      {
        "tips-view-uri": "/tips/2718281828459",
        "tips-view-summary": {
          "updates-graph-summary": {
            "start-seq": 101,
            "end-seq": 106,
            "start-edge-rec" : {
              "seq-i": 0,
              "seq-j": 105
            }
          },
          "server-push": true
        }
      }

</pre><a href="#section-8.1.1-8" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="push-read">
<section id="section-8.1.2">
          <h4 id="name-read-push-state">
<a href="#section-8.1.2" class="section-number selfRef">8.1.2. </a><a href="#name-read-push-state" class="section-name selfRef">Read Push State</a>
          </h4>
<p id="section-8.1.2-1">A client can use the HTTP GET method, with accept header set to "application/alto-tipsparams+json"
          (defined in <a href="#push-start" class="auto internal xref">Section 8.1.1</a>) to check the status of server push.<a href="#section-8.1.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.1.2-2">
<pre>
    GET /&lt;tips-view-uri&gt;/push
</pre><a href="#section-8.1.2-2" class="pilcrow">¶</a>
</div>
<p id="section-8.1.2-3">Example:<a href="#section-8.1.2-3" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.1.2-4">
<pre>
    Client -&gt; server request

    HEADERS
      - END_STREAM
      + END_HEADERS
        :method = GET
        :scheme = https
        :path = /tips/2718281828459/push
        host = alto.example.com
        accept = application/alto-error+json,
                      application/alto-tipsparams+json

    Server -&gt; client response:

    HEADERS
      - END_STREAM
      + END_HEADERS
        :status = 200
        content-type = application/alto-tipsparams+json
        content-length = 519

    DATA
      - END_STREAM
      {
        "server-push": true
      }
</pre><a href="#section-8.1.2-4" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="push-stop">
<section id="section-8.1.3">
          <h4 id="name-stop-push">
<a href="#section-8.1.3" class="section-number selfRef">8.1.3. </a><a href="#name-stop-push" class="section-name selfRef">Stop Push</a>
          </h4>
<p id="section-8.1.3-1">A client can stop receiving server push updates either explicitly or
            implicitly.<a href="#section-8.1.3-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-8.1.3-2">
            <dt id="section-8.1.3-2.1">Explicit stop:</dt>
            <dd style="margin-left: 1.5em" id="section-8.1.3-2.2">A client stops push by using the HTTP PUT method to
            /&lt;tips-view-uri&gt;/push, with content type
            "application/alto-tipsparams+json" and setting server-push to FALSE:<a href="#section-8.1.3-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
<p id="section-8.1.3-3">Implicit stop (two ways):<a href="#section-8.1.3-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-8.1.3-4">
            <li id="section-8.1.3-4.1">TIPS view is connection ephemeral: the close of connection or
            stream for the TIPS view deletes the TIPS view from the view of the client.<a href="#section-8.1.3-4.1" class="pilcrow">¶</a>
</li>
            <li id="section-8.1.3-4.2">The client sends a DELETE /&lt;tips-view-uri&gt; request, indicating it no longer is interested
            in the resource, which also deletes the client from the push receiver set if present.<a href="#section-8.1.3-4.2" class="pilcrow">¶</a>
</li>
          </ol>
<p id="section-8.1.3-5">Note that a client may choose to explicitly stop server push for a resource, but
          may not delete the TIPS view so that it can switch seamlessly from server push to
          client pull in the case that the server push frequency is undesirable, without having
          to request a new TIPS view.<a href="#section-8.1.3-5" class="pilcrow">¶</a></p>
<p id="section-8.1.3-6">Example of explicit stop:<a href="#section-8.1.3-6" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.1.3-7">
<pre>
    Client -&gt; server request

    HEADERS
      - END_STREAM
      + END_HEADERS
        :method = PUT
        :scheme = https
        :path = /tips/2718281828459/push
        host = alto.example.com
        accept = application/alto-error+json
        content-type = application/alto-tipsparams+json
        content-length = 69

    DATA
      - END_STREAM
      {
        "server-push": false
      }

    Server-&gt; client response

    HEADERS
      - END_STREAM
      + END_HEADERS
        :status = 200
</pre><a href="#section-8.1.3-7" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="altoh2push">
<section id="section-8.2">
        <h3 id="name-push-incremental-updates">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-push-incremental-updates" class="section-name selfRef">Push Incremental Updates</a>
        </h3>
<div id="altoh2pushops">
<section id="section-8.2.1">
          <h4 id="name-scheduling-server-push-upda">
<a href="#section-8.2.1" class="section-number selfRef">8.2.1. </a><a href="#name-scheduling-server-push-upda" class="section-name selfRef">Scheduling Server Push Updates</a>
          </h4>
<p id="section-8.2.1-1">The objective of the server is to push the latest version to the client using
          the lowest cost (sum of size) of the updates. Hence, it is RECOMMENDED that the
          server computes the push path using the following algorithm, upon each event computing a push:<a href="#section-8.2.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2.1-2.1">Compute client current version (n_c). During initialization, if the TIPS view request
            has a tag, find that version; otherwise n_c = 0<a href="#section-8.2.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.1-2.2">Compute the shortest path from current version to latest version, n_c, n1, ... n_e (latest version). Note that
            the shortest path may not involve the tagged version and instead follow the edge from 0 to the latest snapshot.<a href="#section-8.2.1-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.1-2.3">push /&lt;tips-view-uri&gt;/ug/n_c/n1<a href="#section-8.2.1-2.3" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-8.2.1-3">Note<a href="#section-8.2.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2.1-4.1">Initialization: If the client specifically requests a starting edge to be pushed, the server
              MAY start with that edge even if it is not the shortest path.<a href="#section-8.2.1-4.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.1-4.2">Push state: the server MUST maintain the last entry pushed to the client (and hence
            per client, per connection state) and schedule next update push accordingly.<a href="#section-8.2.1-4.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-8.2.1-4.3">Push management: The client MUST NOT cancel (RST_STREAM) a PUSH_PROMISE to avoid
            complex server state management.<a href="#section-8.2.1-4.3" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="altoh2pushexamples">
<section id="section-8.2.2">
          <h4 id="name-examples">
<a href="#section-8.2.2" class="section-number selfRef">8.2.2. </a><a href="#name-examples" class="section-name selfRef">Examples</a>
          </h4>
<p id="section-8.2.2-1">Using the example updates graph in <a href="#basic-data-model" class="auto internal xref">Section 3.1</a>,
          a client can wait on the server for incremental push, where the server first sends PUSH_PROMISE:<a href="#section-8.2.2-1" class="pilcrow">¶</a></p>
<div class="alignLeft art-text artwork" id="section-8.2.2-2">
<pre>
    Server -&gt; client PUSH_PROMISE in current stream:

    PUSH_PROMISE
      - END_STREAM
        Promised Stream 4
        HEADER BLOCK
        :method = GET
        :scheme = https
        :path = /tips/2718281828459/ug/0/101
        host = alto.example.com
        accept = application/alto-error+json,
                      application/alto-costmap+json

    Server -&gt; client content Stream 4:

    HEADERS
      + END_STREAM
      + END_HEADERS
        :status = 200
        content-type = application/alto-costmap+json
        content-length = 539

    DATA
      + END_STREAM
      {
        "meta" : {
          "dependent-vtags" : [{
              "resource-id": "my-network-map",
              "tag": "da65eca2eb7a10ce8b059740b0b2e3f8eb1d4785"
            }],
          "cost-type" : {
            "cost-mode"  : "numerical",
            "cost-metric": "routingcost"
          },
          "vtag": {
            "resource-id" : "my-routingcost-map",
            "tag" : "3ee2cb7e8d63d9fab71b9b34cbf764436315542e"
          }
        },
        "cost-map" : {
          "PID1": { "PID1": 1,  "PID2": 5,  "PID3": 10 },
          "PID2": { "PID1": 5,  "PID2": 1,  "PID3": 15 },
          "PID3": { "PID1": 20, "PID2": 15  }
        }
    }

    Server -&gt; client PUSH_PROMISE in current stream:

    PUSH_PROMISE
      - END_STREAM
        Promised Stream 6
        HEADER BLOCK
        :method = GET
        :scheme = https
        :path = /tips/2718281828459/ug/101/102
        host = alto.example.com
        accept = application/alto-error+json,
                      application/merge-patch+json

    Server -&gt; client content Stream 6

    HEADERS
      + END_STREAM
      + END_HEADERS
        :status = 200
        content-type = application/merge-patch+json
        content-length = 7

    DATA
      + END_STREAM
      {
        "meta": {
            "vtag": {
              "tag": "c0ce023b8678a7b9ec00324673b98e54656d1f6d"
            }
        },
        "cost-map": {
          "PID1": {
            "PID2": 9
          },
          "PID3": {
            "PID1": null,
            "PID3": 1
          }
        }
      }
</pre><a href="#section-8.2.2-2" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="altoh2streams">
<section id="section-8.3">
        <h3 id="name-server-push-stream-manageme">
<a href="#section-8.3" class="section-number selfRef">8.3. </a><a href="#name-server-push-stream-manageme" class="section-name selfRef">Server Push Stream Management</a>
        </h3>
<p id="section-8.3-1">The server push MUST satisfy the following requirements:<a href="#section-8.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.3-2.1">PUSH_PROMISE MUST be sent in stream SID_tq to serialize and allow the client to know the push order;<a href="#section-8.3-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-8.3-2.2">Each PUSH_PROMISE chooses a new server-selected stream ID, and the stream is closed after push.<a href="#section-8.3-2.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="ops">
<section id="section-9">
      <h2 id="name-operation-and-processing-co">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-operation-and-processing-co" class="section-name selfRef">Operation and Processing Considerations</a>
      </h2>
<div id="ops-loadbalancing">
<section id="section-9.1">
        <h3 id="name-considerations-for-load-bal">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-considerations-for-load-bal" class="section-name selfRef">Considerations for Load Balancing</a>
        </h3>
<p id="section-9.1-1">TIPS allow clients to make concurrent pulls of the incremental updates potentially through different HTTP connections. As a consequence, it introduces additional complexities when the ALTO server is being load balanced -- a feature widely used to build scalable and fault-tolerant web services. For example, a request may be incorrectly processed if the following two conditions both hold:<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.1-2.1">the backend servers are stateful, i.e., the TIPS view is created and stored only on a single server;<a href="#section-9.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-9.1-2.2">the ALTO server is using layer-4 load balancing, i.e., the requests are distributed based on the TCP 5-tuple.<a href="#section-9.1-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-9.1-3">Thus, additional considerations are required to enable correct load balancing for TIPS, including:<a href="#section-9.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.1-4.1">Use a stateless architecture: One solution is to follow the stateless computing pattern: states about the TIPS view are not maintained by the backend servers but are stored in a distributed database. Thus, concurrent requests to the same TIPS view can be processed on arbitrary stateless backend servers, which all fetches data from the same database.<a href="#section-9.1-4.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-9.1-4.2">Configure the load balancers properly: In case when the backend servers are stateful, the load balancers must be properly configured to guarantee that requests of the same TIPS view always arrive at the same server. For example, an operator or a provider of an ALTO server may configure layer-7 load balancers that distribute requests based on URL or cookies.<a href="#section-9.1-4.2" class="pilcrow">¶</a>
</li>
        </ul>
</section>
</div>
<div id="ops-chooseupdates">
<section id="section-9.2">
        <h3 id="name-considerations-for-choosing">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-considerations-for-choosing" class="section-name selfRef">Considerations for Choosing Updates</a>
        </h3>
<p id="section-9.2-1">When implementing TIPS, a developer should be cognizant of the effects of update schedule, which
            includes both the choice of timing (i.e., when/what to trigger an
            update on the updates graph) and the choice of message format
            (i.e., given an update, send a full replacement or an incremental
            change).  In particular, the update schedule can have effects on both
            the overhead and the freshness of information.  To minimize overhead,
            developers may choose to batch a sequence of updates for resources
            that frequently change by cumulative updates or a full
            replacement after a while.  Developers should be
            cognizant that batching reduces the freshness of information and
            should also consider the effect of such delays on client
            behaviors.<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<p id="section-9.2-2">For incremental updates, this design allows both JSON patch and JSON
             merge patch for incremental changes.  JSON merge patch is clearly
             superior to JSON patch for describing incremental changes to cost
             maps, endpoint costs, and endpoint properties.  For these data
             structures, JSON merge patch is more space efficient, as well as
             simpler to apply.  There is no advantage allowing a server to use
            JSON patch for those resources.<a href="#section-9.2-2" class="pilcrow">¶</a></p>
<p id="section-9.2-3">The case is not as clear for incremental changes to network maps.<a href="#section-9.2-3" class="pilcrow">¶</a></p>
<p id="section-9.2-4">First, consider small changes, such as moving a prefix from one PID
   to another.  JSON patch could encode that as a simple insertion and
   deletion, while JSON merge patch would have to replace the entire
   array of prefixes for both PIDs.  On the other hand, to process a
   JSON patch update, the ALTO client would have to retain the indexes
   of the prefixes for each PID.  Logically, the prefixes in a PID are
   an unordered set, not an array; aside from handling updates, a client
   has no need to retain the array indexes of the prefixes.  Hence, to
   take advantage of JSON patch for network maps, ALTO clients would
   have to retain additional, otherwise unnecessary, data.<a href="#section-9.2-4" class="pilcrow">¶</a></p>
<p id="section-9.2-5">Second, consider more involved changes, such as removing half of the
   prefixes from a PID.  JSON merge patch would send a new array for
   that PID, while JSON patch would have to send a list of remove
   operations and delete the prefix one by one.<a href="#section-9.2-5" class="pilcrow">¶</a></p>
<p id="section-9.2-6">Therefore, each TIPS instance may choose to encode the updates
   using JSON merge patch or JSON patch based on the type of changes in
   network maps.<a href="#section-9.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ops-scheduling">
<section id="section-9.3">
        <h3 id="name-considerations-for-cross-re">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-considerations-for-cross-re" class="section-name selfRef">Considerations for Cross-Resource Dependency Scheduling</a>
        </h3>
<p id="section-9.3-1">Dependent ALTO resources result in cross-resource dependencies in TIPS.
          Consider the following pair of resources, where my-cost-map (C) is
          dependent on my-network-map (N).  The updates graph for each resource is shown,
          along with links in between the respective updates graphs to show dependency:<a href="#section-9.3-1" class="pilcrow">¶</a></p>
<span id="name-example-dependency-model"></span><div id="dependency-model">
<figure id="figure-6">
          <div class="alignLeft art-text artwork" id="section-9.3-2.1">
<pre>
                       +---+   +---+   +---+   +---+   +---+
  my-network-map (N)   | 0 |--&gt;|89 |--&gt;|90 |--&gt;|91 |--&gt;|92 |
                       +---+   +---+   +---+   +---+   +---+
                                 |   \       \       \
                                 |    \       \       \
                       +---+   +---+   +---+   +---+   +---+
  my-cost-map (C)      | 0 |--&gt;|101|--&gt;|102|--&gt;|103|--&gt;|104|
                       +---+   +---+   +---+   +---+   +---+
                        |_______________________|
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-example-dependency-model" class="selfRef">Example Dependency Model</a>
          </figcaption></figure>
</div>
<p id="section-9.3-3">In <a href="#dependency-model" class="auto internal xref">Figure 6</a>, the cost-map version at node 101 and 102 is dependent on
          the network-map version at node 89.  The cost-map version at node 103 is dependent on the network-map
          version at node 90, and so on.<a href="#section-9.3-3" class="pilcrow">¶</a></p>
<p id="section-9.3-4">In pull-mode, a client can decide the order in which to receive the updates.<a href="#section-9.3-4" class="pilcrow">¶</a></p>
<p id="section-9.3-5">In push-mode, the server must decide. Pushing order may affect how fast the client
          can build a consistent view and how long the client needs to buffer the update.<a href="#section-9.3-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.3-6.1">Example 1: The server pushes N89, N90, N91, C101, C102 in that order. The client either gets no consistent
            view of the resources or it has to buffer N90 and N91<a href="#section-9.3-6.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-9.3-6.2">Example 2: The server pushes C101, C102, C103, N89. The client either gets no consistent view or
            it has to buffer C103.<a href="#section-9.3-6.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-9.3-7">Therefore, the server is RECOMMENDED to push updates in the ascending order of the smallest dependent tag,
          e.g., {C101, C102, N89} before {C103, N90}<a href="#section-9.3-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ops-clientproc">
<section id="section-9.4">
        <h3 id="name-considerations-for-client-p">
<a href="#section-9.4" class="section-number selfRef">9.4. </a><a href="#name-considerations-for-client-p" class="section-name selfRef">Considerations for Client Processing Updates</a>
        </h3>
<p id="section-9.4-1">In general, when an ALTO client receives a full replacement for a
   resource, the ALTO client should replace the current version with the
   new version.  When an ALTO client receives an incremental update for
   a resource, the ALTO client should apply those updates to the current
   version of the resource.<a href="#section-9.4-1" class="pilcrow">¶</a></p>
<p id="section-9.4-2">However, because resources can depend on other resources (e.g., cost
   maps depend on network maps), an ALTO client MUST NOT use a dependent
   resource if the resource on which it depends has changed.  There are
   at least two ways an ALTO client can do that.  The following
   paragraphs illustrate these techniques by referring to network and
   cost map messages, although these techniques apply to any dependent
   resources.<a href="#section-9.4-2" class="pilcrow">¶</a></p>
<p id="section-9.4-3">Note that when a network map changes, the server SHOULD
   send the network map update message before sending the updates for
   the dependent cost maps.<a href="#section-9.4-3" class="pilcrow">¶</a></p>
<p id="section-9.4-4">One approach is for the ALTO client to save the network map update
   message in a buffer and continue to use the previous network map and
   the associated cost maps until the ALTO client receives the update
   messages for all dependent cost maps.  The ALTO client then applies
   all network and cost map updates atomically.<a href="#section-9.4-4" class="pilcrow">¶</a></p>
<p id="section-9.4-5">Alternatively, the ALTO client MAY update the network map
   immediately.  In this case, the cost maps using the network map
   become invalid because they are inconsistent with the current network
   map; hence, the ALTO client MUST mark each such dependent cost map as
   temporarily invalid and MUST NOT use each such cost map until the
   ALTO client receives a cost map update indicating that it is
   based on the new network map version tag.<a href="#section-9.4-5" class="pilcrow">¶</a></p>
<p id="section-9.4-6">When implementing server push, the server SHOULD send updates for dependent resource
   (i.e., the cost maps in the preceding example) in a timely fashion.
   However, if the ALTO client does not receive the expected updates, a
   simple recovery method is that the ALTO client uses client pull to
   request the missing update.  The ALTO client MAY retain the
   version tag of the last version of any tagged resources and search
   those version tags when identifying the new updates to pull.
   Although not as efficient as possible, this recovery method is simple
   and reliable.<a href="#section-9.4-6" class="pilcrow">¶</a></p>
<p id="section-9.4-7">Though a server SHOULD send update items sequentially, it is possible that a client
          receives the update items out of order (in the case of a retransmitted update item or a
          result of concurrent fetch).  The client MUST buffer the update items if they arrive out
          of order and then apply them sequentially (based upon the sequence numbers) due to the
          operation of JSON merge patch and JSON patch.<a href="#section-9.4-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ops-filtered">
<section id="section-9.5">
        <h3 id="name-considerations-for-updates-">
<a href="#section-9.5" class="section-number selfRef">9.5. </a><a href="#name-considerations-for-updates-" class="section-name selfRef">Considerations for Updates to Filtered Cost Maps</a>
        </h3>
<p id="section-9.5-1">If TIPS provides updates to a Filtered Cost Map that
   allows constraint tests, then an ALTO client MAY request updates to a
   Filtered Cost Map request with a constraint test.  In this case, when
   a cost changes, the updates graph MUST have an update if the
   new value satisfies the test.  If the new value does not, whether
   there is an update depends on whether the previous
   value satisfied the test.  If it did not, the updates graph
   SHOULD NOT have an update.  But if the previous
   value did, then the updates graph MUST add an update with a
   "null" value to inform the ALTO client that this cost no longer
   satisfies the criteria.<a href="#section-9.5-1" class="pilcrow">¶</a></p>
<p id="section-9.5-2">TIPS can avoid having to handle such a complicated
   behavior by offering TIPS only for Filtered Cost Maps that
   do not allow constraint tests.<a href="#section-9.5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ops-ordinal">
<section id="section-9.6">
        <h3 id="name-considerations-for-updates-t">
<a href="#section-9.6" class="section-number selfRef">9.6. </a><a href="#name-considerations-for-updates-t" class="section-name selfRef">Considerations for Updates to Ordinal Mode Costs</a>
        </h3>
<p id="section-9.6-1">For an ordinal mode cost map, a change to a single cost point may
   require updating many other costs.  As an extreme example, suppose
   the lowest cost changes to the highest cost.  For a numerical mode
   cost map, only that one cost changes.  But for an ordinal mode cost
   map, every cost might change.  While this document allows TIPS to
   offer incremental updates for ordinal mode cost
   maps, TIPS implementors should be aware that
   incremental updates for ordinal costs are more complicated than for
   numerical costs, and that small changes of the original cost value
   may result in large updates.<a href="#section-9.6-1" class="pilcrow">¶</a></p>
<p id="section-9.6-2">A TIPS implementation can avoid this complication by only offering
   full replacements as updates in the updates graph for ordinal cost maps.<a href="#section-9.6-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ops-shared">
<section id="section-9.7">
        <h3 id="name-considerations-for-managing">
<a href="#section-9.7" class="section-number selfRef">9.7. </a><a href="#name-considerations-for-managing" class="section-name selfRef">Considerations for Managing Shared TIPS Views</a>
        </h3>
<p id="section-9.7-1">From a client's point of view, it sees only one copy of the TIPS
            view for any resource. However, on the server side, there are
            different implementation options, especially for common resources
            (e.g., network map or cost map) that may be frequently queried by
            many clients. Some potential options are listed below:<a href="#section-9.7-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.7-2.1">An ALTO server creates one TIPS view of the common resource for each client. When the client deletes the view, the server deletes the view in the server storage.<a href="#section-9.7-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-9.7-2.2">
            <p id="section-9.7-2.2.1">An ALTO server maintains one copy of the TIPS view for each common resource and all clients requesting the same resources use the same copy. There are two ways to manage the storage for the shared copy:<a href="#section-9.7-2.2.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-9.7-2.2.2.1">the ALTO server maintains the set of clients that subscribe to the TIPS view, and only removes the view from the storage when the set becomes empty.<a href="#section-9.7-2.2.2.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-9.7-2.2.2.2">the TIPS view is never removed from the storage.<a href="#section-9.7-2.2.2.2" class="pilcrow">¶</a>
</li>
            </ul>
</li>
        </ul>
<p id="section-9.7-3">Developers may choose different implementation options depending on criteria such as request frequency, available resources of the ALTO server, the ability to scale, and programming complexity.<a href="#section-9.7-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ops-shortcut">
<section id="section-9.8">
        <h3 id="name-considerations-for-offering">
<a href="#section-9.8" class="section-number selfRef">9.8. </a><a href="#name-considerations-for-offering" class="section-name selfRef">Considerations for Offering Shortcut Incremental Updates</a>
        </h3>
<p id="section-9.8-1">Besides the mandatory stepwise incremental updates (from i to i+1), an ALTO server may optionally offer shortcut incremental updates, or simple shortcuts, between two non-consecutive versions i and i+k (k &gt; 1). Such shortcuts offer alternative paths in the update graph and can potentially speed up the transmission and processing of incremental updates, leading to faster synchronization of ALTO information, especially when the client has limited bandwidth and computation. However, implementors of an ALTO server must be aware that:<a href="#section-9.8-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-9.8-2">
                <li id="section-9.8-2.1">Optional shortcuts may increase the size of the update graph, in the worst case being the square of the number of updates (i.e., when a shortcut is offered for each version to all future versions).<a href="#section-9.8-2.1" class="pilcrow">¶</a>
</li>
          <li id="section-9.8-2.2">Optional shortcuts require additional storage on the ALTO server.<a href="#section-9.8-2.2" class="pilcrow">¶</a>
</li>
          <li id="section-9.8-2.3">Optional shortcuts may reduce concurrency when the updates do not overlap, e.g., when the updates apply to different parts of an ALTO resource. In such a case, the total size of the original updates is close to the size of the shortcut, but the original updates can be transmitted concurrently while the shortcut is transmitted in a single connection.<a href="#section-9.8-2.3" class="pilcrow">¶</a>
</li>
        </ol>
</section>
</div>
</section>
</div>
<div id="sec-sec">
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-10-1">The security considerations (<span><a href="https://rfc-editor.org/rfc/rfc7285#section-15" class="relref">Section 15</a> of [<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>) of the base
   protocol fully apply to this extension.  For example, the same
   authenticity and integrity considerations (<span><a href="https://rfc-editor.org/rfc/rfc7285#section-15.1" class="relref">Section 15.1</a> of [<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>)
   still fully apply; the same considerations for the privacy of ALTO
   users (<span><a href="https://rfc-editor.org/rfc/rfc7285#section-15.4" class="relref">Section 15.4</a> of [<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>) also still fully apply.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">The additional services (addition of update read service and update
   push service) provided by this extension extend the attack surface
   described in <span><a href="https://rfc-editor.org/rfc/rfc7285#section-15.1.1" class="relref">Section 15.1.1</a> of [<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>.  Below, we discuss the
   additional risks and their remedies.<a href="#section-10-2" class="pilcrow">¶</a></p>
<div id="sec-ddos">
<section id="section-10.1">
        <h3 id="name-tips-denial-of-service-atta">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-tips-denial-of-service-atta" class="section-name selfRef">TIPS: Denial-of-Service Attacks</a>
        </h3>
<p id="section-10.1-1">Allowing TIPS views enables a new class of
   Denial-of-Service attacks. In particular, For the TIPS server,
   an ALTO client or multiple clients might create an unreasonable number of TIPS views.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<p id="section-10.1-2">To avoid these attacks on the TIPS server, the server SHOULD
   choose to limit both the total number of active views and/or the number per each client, and reject new requests
   when the threshold is reached.  TIPS allows
   predictive fetching and the server SHOULD also choose to limit the
   number of pending requests.  In these cases, the server
   SHOULD return the HTTP status "429 Too many requests".<a href="#section-10.1-2" class="pilcrow">¶</a></p>
<p id="section-10.1-3">It is important to note that the preceding approaches are not the
   only possibilities.  For example, it may be possible for TIPS to
   use somewhat more clever logic involving IP reputation, rate-limiting,
   and compartmentalization of the overall threshold into smaller thresholds
   that apply to subsets of potential clients.<a href="#section-10.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-overload">
<section id="section-10.2">
        <h3 id="name-alto-client-update-overload">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-alto-client-update-overload" class="section-name selfRef">ALTO Client: Update Overloading or Instability</a>
        </h3>
<p id="section-10.2-1">The availability of continuous updates, when the client indicates
   receiving server push, can also cause overload for an
   ALTO client, in particular, an ALTO client with limited processing
   capabilities.  The current design does not include any flow control
   mechanisms for the client to reduce the update rates from the server.
   Under overloading, the client MAY choose to remove the information
   resources with high update rates.<a href="#section-10.2-1" class="pilcrow">¶</a></p>
<p id="section-10.2-2">Also, under overloading, the client may no longer be able to detect
   whether information is still fresh or has become stale.  In such a
   case, the client should be careful in how it uses the information to
   avoid stability or efficiency issues.<a href="#section-10.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-spoof">
<section id="section-10.3">
        <h3 id="name-spoofed-uri">
<a href="#section-10.3" class="section-number selfRef">10.3. </a><a href="#name-spoofed-uri" class="section-name selfRef">Spoofed URI</a>
        </h3>
<p id="section-10.3-1">An outside party that can read the TIPS response or that can
   observe TIPS requests can obtain the TIPS view URI and use
   that to send fraudulent "DELETE" requests, thus disabling the service
   for the valid ALTO client.  This can be avoided by encrypting the
   requests and responses (<span><a href="https://rfc-editor.org/rfc/rfc7285#section-15" class="relref">Section 15</a> of [<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>).<a href="#section-10.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ianaconsider">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-11-1">IANA is requested to register the following media types following the same process in <span>[<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>:<a href="#section-11-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11-2.1">application/alto-tips+json: as described in <a href="#tips-createresp" class="auto internal xref">Section 6.2</a>;<a href="#section-11-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-11-2.2">application/alto-tipsparams+json: as described in <a href="#tips-createreq" class="auto internal xref">Section 6.1</a>;<a href="#section-11-2.2" class="pilcrow">¶</a>
</li>
      </ul>
<section id="section-11.1">
        <h3 id="name-application-alto-tipsjson-m">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-application-alto-tipsjson-m" class="section-name selfRef">application/alto-tips+json Media Type</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-11.1-1">
          <dt id="section-11.1-1.1">Type name:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.2">application<a href="#section-11.1-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.3">Subtype name:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.4">alto-tips+json<a href="#section-11.1-1.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.5">Required parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.6">N/A<a href="#section-11.1-1.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.7">Optional parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.8">N/A<a href="#section-11.1-1.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.9">Encoding considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.10">Encoding considerations are identical to those specified for the
          "application/json" media type. See <span>[<a href="#RFC8259" class="cite xref">RFC8259</a>]</span>.<a href="#section-11.1-1.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.11">Security considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.12">Security considerations relating to the generation and consumption
          of ALTO Protocol messages are discussed in
          <span><a href="https://rfc-editor.org/rfc/rfc8895#section-10" class="relref">Section 10</a> of [<a href="#RFC8895" class="cite xref">RFC8895</a>]</span> and <span><a href="https://rfc-editor.org/rfc/rfc7285#section-15" class="relref">Section 15</a> of [<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>.<a href="#section-11.1-1.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.13">Interoperability considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.14">This document specifies format of conforming messages and the
          interpretation thereof.<a href="#section-11.1-1.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.15">Published specification:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.16">
            <a href="#tips-createresp" class="auto internal xref">Section 6.2</a> of this document.<a href="#section-11.1-1.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.17">Applications that use this media type:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.18">ALTO servers and ALTO clients either stand alone or are embedded
          within other applications.<a href="#section-11.1-1.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.19">Fragment identifier considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.20">N/A<a href="#section-11.1-1.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.21">Additional information:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.22">
            <p id="section-11.1-1.22.1"><br></p>
<span class="break"></span><dl class="dlParallel" id="section-11.1-1.22.2">
              <dt id="section-11.1-1.22.2.1">Deprecated alias names for this type:</dt>
              <dd style="margin-left: 1.5em" id="section-11.1-1.22.2.2">N/A<a href="#section-11.1-1.22.2.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-11.1-1.22.2.3">Magic number(s):</dt>
              <dd style="margin-left: 1.5em" id="section-11.1-1.22.2.4">N/A<a href="#section-11.1-1.22.2.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-11.1-1.22.2.5">File extension(s):</dt>
              <dd style="margin-left: 1.5em" id="section-11.1-1.22.2.6">This document uses the media type to refer to protocol messages
              and thus does not require a file extension.<a href="#section-11.1-1.22.2.6" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-11.1-1.22.2.7">Macintosh file type code(s):</dt>
              <dd style="margin-left: 1.5em" id="section-11.1-1.22.2.8">N/A<a href="#section-11.1-1.22.2.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.23">Person and email address to contact for further information:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.24">See Authors' Addresses section.<a href="#section-11.1-1.24" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.25">Intended usage:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.26">COMMON<a href="#section-11.1-1.26" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.27">Restrictions on usage:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.28">N/A<a href="#section-11.1-1.28" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.29">Author:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.30">See Authors' Addresses section.<a href="#section-11.1-1.30" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.1-1.31">Change controller:</dt>
          <dd style="margin-left: 1.5em" id="section-11.1-1.32">Internet Engineering Task Force (mailto:iesg@ietf.org).<a href="#section-11.1-1.32" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
<section id="section-11.2">
        <h3 id="name-application-alto-tipsparams">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-application-alto-tipsparams" class="section-name selfRef">application/alto-tipsparams+json Media Type</a>
        </h3>
<span class="break"></span><dl class="dlParallel" id="section-11.2-1">
          <dt id="section-11.2-1.1">Type name:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.2">application<a href="#section-11.2-1.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.3">Subtype name:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.4">alto-tipsparams+json<a href="#section-11.2-1.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.5">Required parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.6">N/A<a href="#section-11.2-1.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.7">Optional parameters:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.8">N/A<a href="#section-11.2-1.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.9">Encoding considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.10">Encoding considerations are identical to those specified for the
          "application/json" media type. See <span>[<a href="#RFC8259" class="cite xref">RFC8259</a>]</span>.<a href="#section-11.2-1.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.11">Security considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.12">Security considerations relating to the generation and consumption
          of ALTO Protocol messages are discussed in
          <span><a href="https://rfc-editor.org/rfc/rfc8895#section-10" class="relref">Section 10</a> of [<a href="#RFC8895" class="cite xref">RFC8895</a>]</span> and <span><a href="https://rfc-editor.org/rfc/rfc7285#section-15" class="relref">Section 15</a> of [<a href="#RFC7285" class="cite xref">RFC7285</a>]</span>.<a href="#section-11.2-1.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.13">Interoperability considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.14">This document specifies format of conforming messages and the
          interpretation thereof.<a href="#section-11.2-1.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.15">Published specification:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.16">
            <a href="#tips-createreq" class="auto internal xref">Section 6.1</a> of this document.<a href="#section-11.2-1.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.17">Applications that use this media type:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.18">ALTO servers and ALTO clients either stand alone or are embedded
          within other applications.<a href="#section-11.2-1.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.19">Fragment identifier considerations:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.20">N/A<a href="#section-11.2-1.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.21">Additional information:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.22">
            <p id="section-11.2-1.22.1"><br></p>
<span class="break"></span><dl class="dlParallel" id="section-11.2-1.22.2">
              <dt id="section-11.2-1.22.2.1">Deprecated alias names for this type:</dt>
              <dd style="margin-left: 1.5em" id="section-11.2-1.22.2.2">N/A<a href="#section-11.2-1.22.2.2" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-11.2-1.22.2.3">Magic number(s):</dt>
              <dd style="margin-left: 1.5em" id="section-11.2-1.22.2.4">N/A<a href="#section-11.2-1.22.2.4" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-11.2-1.22.2.5">File extension(s):</dt>
              <dd style="margin-left: 1.5em" id="section-11.2-1.22.2.6">This document uses the media type to refer to protocol messages
              and thus does not require a file extension.<a href="#section-11.2-1.22.2.6" class="pilcrow">¶</a>
</dd>
              <dd class="break"></dd>
<dt id="section-11.2-1.22.2.7">Macintosh file type code(s):</dt>
              <dd style="margin-left: 1.5em" id="section-11.2-1.22.2.8">N/A<a href="#section-11.2-1.22.2.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
</dl>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.23">Person and email address to contact for further information:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.24">See Authors' Addresses section.<a href="#section-11.2-1.24" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.25">Intended usage:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.26">COMMON<a href="#section-11.2-1.26" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.27">Restrictions on usage:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.28">N/A<a href="#section-11.2-1.28" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.29">Author:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.30">See Authors' Addresses section.<a href="#section-11.2-1.30" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-11.2-1.31">Change controller:</dt>
          <dd style="margin-left: 1.5em" id="section-11.2-1.32">Internet Engineering Task Force (mailto:iesg@ietf.org).<a href="#section-11.2-1.32" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</section>
</div>
<section id="section-12">
      <h2 id="name-acknowledgments">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="section-12-1">The authors of this document would also like to thank Mark Nottingham and Spencer Dawkins for providing
      invaluable reviews of earlier versions of this document, Adrian Farrel, Qin Wu,
      and Jordi Ros Giralt for their continuous feedback, and Russ White, Donald Eastlake, Martin Thomson, Bernard Adoba, Spencer Dawkins and Sheng Jiang for their
      last call reviews of this document.<a href="#section-12-1" class="pilcrow">¶</a></p>
</section>
<section id="section-13">
      <h2 id="name-references">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-13.1">
        <h3 id="name-normative-references">
<a href="#section-13.1" class="section-number selfRef">13.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7285">[RFC7285]</dt>
        <dd>
<span class="refAuthor">Alimi, R., Ed.</span>, <span class="refAuthor">Penno, R., Ed.</span>, <span class="refAuthor">Yang, Y., Ed.</span>, <span class="refAuthor">Kiesel, S.</span>, <span class="refAuthor">Previdi, S.</span>, <span class="refAuthor">Roome, W.</span>, <span class="refAuthor">Shalunov, S.</span>, and <span class="refAuthor">R. Woundy</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Protocol"</span>, <span class="seriesInfo">RFC 7285</span>, <span class="seriesInfo">DOI 10.17487/RFC7285</span>, <time datetime="2014-09" class="refDate">September 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7285">https://www.rfc-editor.org/info/rfc7285</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8259">[RFC8259]</dt>
        <dd>
<span class="refAuthor">Bray, T., Ed.</span>, <span class="refTitle">"The JavaScript Object Notation (JSON) Data Interchange Format"</span>, <span class="seriesInfo">STD 90</span>, <span class="seriesInfo">RFC 8259</span>, <span class="seriesInfo">DOI 10.17487/RFC8259</span>, <time datetime="2017-12" class="refDate">December 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8259">https://www.rfc-editor.org/info/rfc8259</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8895">[RFC8895]</dt>
        <dd>
<span class="refAuthor">Roome, W.</span> and <span class="refAuthor">Y. Yang</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Incremental Updates Using Server-Sent Events (SSE)"</span>, <span class="seriesInfo">RFC 8895</span>, <span class="seriesInfo">DOI 10.17487/RFC8895</span>, <time datetime="2020-11" class="refDate">November 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8895">https://www.rfc-editor.org/info/rfc8895</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9112">[RFC9112]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"HTTP/1.1"</span>, <span class="seriesInfo">STD 99</span>, <span class="seriesInfo">RFC 9112</span>, <span class="seriesInfo">DOI 10.17487/RFC9112</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9112">https://www.rfc-editor.org/info/rfc9112</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9113">[RFC9113]</dt>
        <dd>
<span class="refAuthor">Thomson, M., Ed.</span> and <span class="refAuthor">C. Benfield, Ed.</span>, <span class="refTitle">"HTTP/2"</span>, <span class="seriesInfo">RFC 9113</span>, <span class="seriesInfo">DOI 10.17487/RFC9113</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9113">https://www.rfc-editor.org/rfc/rfc9113</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9114">[RFC9114]</dt>
      <dd>
<span class="refAuthor">Bishop, M., Ed.</span>, <span class="refTitle">"HTTP/3"</span>, <span class="seriesInfo">RFC 9114</span>, <span class="seriesInfo">DOI 10.17487/RFC9114</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc9114">https://www.rfc-editor.org/info/rfc9114</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-13.2">
        <h3 id="name-informative-references">
<a href="#section-13.2" class="section-number selfRef">13.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="draft-schott-alto-new-transport-push">[draft-schott-alto-new-transport-push]</dt>
        <dd>
<span class="refAuthor">Schott, R.</span> and <span class="refAuthor">Y. Yang</span>, <span class="refTitle">"ALTO New Transport: Server Push"</span>, <span class="seriesInfo">Internet Draft ID</span>, <time datetime="2022-10" class="refDate">October 2022</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/draft-schott-alto-new-transport-push/">https://datatracker.ietf.org/doc/draft-schott-alto-new-transport-push/</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7971">[RFC7971]</dt>
        <dd>
<span class="refAuthor">Stiemerling, M.</span>, <span class="refAuthor">Kiesel, S.</span>, <span class="refAuthor">Scharf, M.</span>, <span class="refAuthor">Seidel, H.</span>, and <span class="refAuthor">S. Previdi</span>, <span class="refTitle">"Application-Layer Traffic Optimization (ALTO) Deployment Considerations"</span>, <span class="seriesInfo">RFC 7971</span>, <span class="seriesInfo">DOI 10.17487/RFC7971</span>, <time datetime="2016-10" class="refDate">October 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7971">https://www.rfc-editor.org/info/rfc7971</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC9205">[RFC9205]</dt>
      <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refTitle">"Building Protocols with HTTP"</span>, <span class="seriesInfo">BCP 56</span>, <span class="seriesInfo">RFC 9205</span>, <span class="seriesInfo">DOI 10.17487/RFC9205</span>, <time datetime="2022-06" class="refDate">June 2022</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9205">https://www.rfc-editor.org/rfc/rfc9205</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<section id="appendix-A">
      <h2 id="name-high-level-service-model">
<a href="#appendix-A" class="section-number selfRef">Appendix A. </a><a href="#name-high-level-service-model" class="section-name selfRef">High-level Service Model</a>
      </h2>
<p id="appendix-A-1">Conceptually, the TIPS system consists of 3 types of resources:<a href="#appendix-A-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A-2.1">(R1) TIPS frontend to manage (create/delete) TIPS views.<a href="#appendix-A-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-A-2.2">(R2) TIPS view directory, which provides metadata (e.g., references) about the network resource data.<a href="#appendix-A-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-A-2.3">(R3) The actual network resource data, encoded as complete ALTO network resources (e.g., cost map, network map) or incremental updates.<a href="#appendix-A-2.3" class="pilcrow">¶</a>
</li>
      </ul>
<span id="name-service-model"></span><div id="service-model-figure">
<figure id="figure-7">
        <div class="alignLeft art-text artwork" id="appendix-A-3.1">
<pre>

                     +------------------------------------------------+
                     |                                                |
+------+             |R1: Frontend/Open  R2: Directory/Meta  R3: Data |
|      | "iget" base |     +-----+           +-----+         +-----+  |
|      | resource 1  |     |     |           |     |         |     |  |
|      |-------------|----&gt;|     |           |     |         |     |  |
|      | incremental |     |     |           |     |--------&gt;|     |  |
|      | transfer    |     |     |           |     |         |     |  |
|      | resource    |     |     |           |     |         |     |  |
|      |&lt;------------|-----|     |           +-----+         +-----+  |
|Client|             |     |     |                                    |
|      | "iget" base |     |     |                                    |
|      | resource 2  |     |     |           +-----+         +-----+  |
|      |-------------|----&gt;|     |           |     |         |     |  |
|      | incremental |     |     |           |     |         |     |  |
|      | transfer    |     |     |           |     | -------&gt;|     |  |
|      | resource    |     |     |           |     |         |     |  |
|      |&lt;------------|-----|     |           |     |         |     |  |
+------+             |     +-----+           +-----+         +-----+  |
                     |                                                |
                     +------------------------------------------------+

</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-service-model" class="selfRef">Service Model</a>
        </figcaption></figure>
</div>
<p id="appendix-A-4">Design Point: Component Resource Location<a href="#appendix-A-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-A-5.1">Design 1 (Single): all 3 types at the same, single server (accessed via relative reference)<a href="#appendix-A-5.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-A-5.2">Design 2 (Flexible): all 3 types can be at their own server (accessed via absolute reference)<a href="#appendix-A-5.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-A-5.3">Design 3 (Dir + Data): R2 and R3 must remain together, though R1 might not be on the same server<a href="#appendix-A-5.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="appendix-A-6">This document specifies Design 1 (keeping R1, R2, and R3 on the same server) in order to simplify session management,
      though at the expense of maximum load balancing flexibility (see <a href="#ops-loadbalancing" class="auto internal xref">Section 9.1</a> for a discussion on load balancing considerations).
      A future companion document may extend the protocol to support Design 2 or Design 3.<a href="#appendix-A-6" class="pilcrow">¶</a></p>
</section>
<section id="appendix-B">
      <h2 id="name-adherence-to-building-proto">
<a href="#appendix-B" class="section-number selfRef">Appendix B. </a><a href="#name-adherence-to-building-proto" class="section-name selfRef">Adherence to "Building Protocols with HTTP"</a>
      </h2>
<p id="appendix-B-1">This work adheres fully to <span>[<a href="#RFC9205" class="cite xref">RFC9205</a>]</span> for the following reasons:<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B-2.1">TIPS does not "redefine, refine, or overlay the semantics of generic protocol elements such as methods,
          status codes, or existing header fields" and instead focuses on "protocol elements that are specific to [the TIPS]
          application -- namely, [its] HTTP resources" (<span><a href="https://rfc-editor.org/rfc/rfc9205#section-3.1" class="relref">Section 3.1</a> of [<a href="#RFC9205" class="cite xref">RFC9205</a>]</span>).<a href="#appendix-B-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-2.2">There are no statically defined URI components (<span><a href="https://rfc-editor.org/rfc/rfc9205#section-3.2" class="relref">Section 3.2</a> of [<a href="#RFC9205" class="cite xref">RFC9205</a>]</span>).<a href="#appendix-B-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-2.3">No minimum version of HTTP is specified by TIPS which is recommended (<span><a href="https://rfc-editor.org/rfc/rfc9205#section-4.1" class="relref">Section 4.1</a> of [<a href="#RFC9205" class="cite xref">RFC9205</a>]</span>).<a href="#appendix-B-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-2.4">This work follows the advice that "When specifying examples of protocol interactions, applications should document
          both the request and response messages with complete header sections, preferably in HTTP/1.1 format" (<span><a href="https://rfc-editor.org/rfc/rfc9205#section-4.1" class="relref">Section 4.1</a> of [<a href="#RFC9205" class="cite xref">RFC9205</a>]</span>).<a href="#appendix-B-2.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-2.5">TIPS uses URI templates which is recommended (<span><a href="https://rfc-editor.org/rfc/rfc9205#section-4.2" class="relref">Section 4.2</a> of [<a href="#RFC9205" class="cite xref">RFC9205</a>]</span>).<a href="#appendix-B-2.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-2.6">TIPS follows the pattern that "a client will begin interacting with a given application server by requesting an initial document
          that contains information about that particular deployment, potentially including links to other relevant resources.  Doing so ensures
          that the deployment is as flexible as possible (potentially spanning multiple servers), allows evolution, and also gives the application
          the opportunity to tailor the "discovery document" to the client" (<span><a href="https://rfc-editor.org/rfc/rfc9205#section-4.4.1" class="relref">Section 4.4.1</a> of [<a href="#RFC9205" class="cite xref">RFC9205</a>]</span>).<a href="#appendix-B-2.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-2.7">TIPS uses existing HTTP schemes (<span><a href="https://rfc-editor.org/rfc/rfc9205#section-4.4.2" class="relref">Section 4.4.2</a> of [<a href="#RFC9205" class="cite xref">RFC9205</a>]</span>).<a href="#appendix-B-2.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-2.8">TIPS defines its errors "to use the most applicable status code" (<span><a href="https://rfc-editor.org/rfc/rfc9205#section-4.6" class="relref">Section 4.6</a> of [<a href="#RFC9205" class="cite xref">RFC9205</a>]</span>).<a href="#appendix-B-2.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-2.9">TIPS does not "make assumptions about the relationship between separate requests on a single
          transport connection; doing so breaks many of the assumptions of HTTP as a stateless protocol and
          will cause problems in interoperability, security, operability, and evolution" (<span><a href="https://rfc-editor.org/rfc/rfc9205#section-4.11" class="relref">Section 4.11</a> of [<a href="#RFC9205" class="cite xref">RFC9205</a>]</span>).  The
          only relationship between requests is that a client must make a request to first discover where a TIPS
          view of resource will be served, which is consistent with URI discovery in <span><a href="https://rfc-editor.org/rfc/rfc9205#section-4.4.1" class="relref">Section 4.4.1</a> of [<a href="#RFC9205" class="cite xref">RFC9205</a>]</span>.<a href="#appendix-B-2.9" class="pilcrow">¶</a>
</li>
        <li class="normal" id="appendix-B-2.10">Section <span><a href="https://rfc-editor.org/rfc/rfc9205#section-4.14" class="relref">Section 4.14</a> of [<a href="#RFC9205" class="cite xref">RFC9205</a>]</span> of RFC 9205 notes that there are quite a few caveats with using server push, mostly
          because of lack of widespread support.  We, the authors, have considered these factors and have still
          decided server push can be valuable in the TIPS use case.<a href="#appendix-B-2.10" class="pilcrow">¶</a>
</li>
      </ul>
</section>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Roland Schott</span></div>
<div dir="auto" class="left"><span class="org">Deutsche Telekom</span></div>
<div dir="auto" class="left"><span class="street-address">Ida-Rhodes-Straße 2</span></div>
<div dir="auto" class="left"><span class="locality">64295 Darmstadt</span></div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:Roland.Schott@telekom.de" class="email">Roland.Schott@telekom.de</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Y. Richard Yang</span></div>
<div dir="auto" class="left"><span class="org">Yale University</span></div>
<div dir="auto" class="left"><span class="street-address">51 Prospect St</span></div>
<div dir="auto" class="left">
<span class="locality">New Haven</span>, <span class="region">CT</span> <span class="postal-code">06520</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:yry@cs.yale.edu" class="email">yry@cs.yale.edu</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Kai Gao</span></div>
<div dir="auto" class="left"><span class="org">Sichuan University</span></div>
<div dir="auto" class="left"><span class="street-address">No.24 South Section 1, Yihuan Road</span></div>
<div dir="auto" class="left"><span class="locality">Chengdu</span></div>
<div dir="auto" class="left">
<span class="region">Sichuan</span>, <span class="postal-code">610065</span>
</div>
<div dir="auto" class="left"><span class="country-name">China</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:kaigao@scu.edu.cn" class="email">kaigao@scu.edu.cn</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Lauren Delwiche</span></div>
<div dir="auto" class="left"><span class="org">Yale University</span></div>
<div dir="auto" class="left"><span class="street-address">51 Prospect St</span></div>
<div dir="auto" class="left">
<span class="locality">New Haven</span>, <span class="region">CT</span> <span class="postal-code">06520</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lauren.delwiche@yale.edu" class="email">lauren.delwiche@yale.edu</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Lachlan Keller</span></div>
<div dir="auto" class="left"><span class="org">Yale University</span></div>
<div dir="auto" class="left"><span class="street-address">51 Prospect Street</span></div>
<div dir="auto" class="left">
<span class="locality">New Haven</span>,  <span class="postal-code">06511</span>
</div>
<div dir="auto" class="left"><span class="country-name">United States of America</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:lachlan.keller@yale.edu" class="email">lachlan.keller@yale.edu</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
